(function(t){function e(e){for(var i,s,r=e[0],c=e[1],l=e[2],h=0,d=[];h<r.length;h++)s=r[h],a[s]&&d.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],i=!0,s=1;s<o.length;s++){var r=o[s];0!==a[r]&&(i=!1)}i&&(n.splice(e--,1),t=c(c.s=o[0]))}return t}var i={},s={6:0},a={6:0},n=[];function r(t){return c.p+"js/"+({0:"notFound",1:"login",2:"database",3:"index",4:"home"}[t]||t)+"."+{0:"590efcc8",1:"5564f19f",2:"61d90e29",3:"97353069",4:"8291468f"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={0:1,1:1,2:1,3:1,4:1};s[t]?e.push(s[t]):0!==s[t]&&o[t]&&e.push(s[t]=new Promise(function(e,o){for(var i="css/"+({0:"notFound",1:"login",2:"database",3:"index",4:"home"}[t]||t)+"."+{0:"2c830188",1:"80fe1d11",2:"dbf40aea",3:"c01f40c7",4:"932ce257"}[t]+".css",s=c.p+i,a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],l=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(l===i||l===s))return e()}var h=document.getElementsByTagName("style");for(n=0;n<h.length;n++){r=h[n],l=r.getAttribute("data-href");if(l===i||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var i=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.request=i,o(a)},d.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){s[t]=0}));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise(function(e,o){i=a[t]=[e,o]});e.push(i[2]=n);var l,h=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(t),l=function(e){d.onerror=d.onload=null,clearTimeout(p);var o=a[t];if(0!==o){if(o){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+i+": "+s+")");n.type=i,n.request=s,o[1](n)}a[t]=void 0}};var p=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,h.appendChild(d)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(o,i,function(e){return t[e]}.bind(null,i));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/me2/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],h=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=h;n.push([8,5]),o()})({"5cSw":function(t,e,o){var i={"./delete.png":"8wBW","./save.png":"UFPx"};function s(t){var e=a(t);return o(e)}function a(t){var e=i[t];if(!(e+1)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return e}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="5cSw"},"6k+m":function(t,e,o){},8:function(t,e,o){t.exports=o("Vtdi")},"8wBW":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACHklEQVR4Xu1b0VHDMAx92oANYAPYADoBsAEbwAbABjAJdALKBNANGKEbiFOu5UoaJ3Is0wDPd/2qo9jPkvykSILgoaoHAK4BXAE4ChL/DuAZwKOIrIJkNmIkUpiq2oafAJxEyt2SZUDMIkGIBuCt4uY3OCxEZBYFcBgAqnqxPv2otfXJuRQRM4niEQnAHYDb4hX5BNyLiL2veEQCYCdyXrwin4C5iJjGFY9IABYATotX5BPwKiJnvqn9swhABIomQ1WpAX/CBFTVbGuMLUcyvyHFNEJ0MzSp4/9lm0Tt+ABV/cnrbMQeih4xFmmm+jUIQBtPagBNQM2Z2a89xjjGIoOt8PCwD0i9VFW1woJqiXQzRTcTJADUAJoAfUCmx1r20NWXhKxUqusBwHHG+yfhBJOLSDlUEel0yiMiTQLgTZjUvAapAalToAkkOAV9AJ0gbwFeg11khzwgP+VOIkQi5Px0RibojbBGZIRIhUmFE3bIWICxQHd+kcEQgyEGQwyGGAx1IMBokNFgdgUaw2GGwwyHfaW0zAcwH+BEgAmR/BKZf58R6qvn/VauuqWEqR4AK5DIacSaBA9wGleVaQRgCkSoytE6hVIDamjAB4BD5wnse5q12LoaKnKY4G9qpNgpik6dSA4A1hRt11dOvd4+NCGrp9ANgO1k3RxtDZJTBWFupf45zdVZAGyOU7XpKTDSEtUeX6opTXt9ux/II/QTKoltX7t+UaAAAAAASUVORK5CYII="},IyMa:function(t,e,o){var i={"./database.vue":"QFOa","./fab.vue":"gLHo"};function s(t){var e=a(t);return o(e)}function a(t){var e=i[t];if(!(e+1)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return e}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="IyMa"},JVp3:function(t,e,o){},KR3l:function(t,e,o){"use strict";var i=o("RmQB"),s=o.n(i);s.a},Po7t:function(t,e,o){},QFOa:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{key:t.reset,ref:"wrap",staticClass:"tbl-wrap tbl-wrap-id-2018-03-26",on:{touchstart:function(e){e.stopPropagation(),t.hover_show=!1,t.option_show=!1,t.dataPicker_show=!1,t.timePicker_show=!1,t.operate_show=!1}}},[o("span",{ref:"textLengtn",staticStyle:{display:"inline-block",position:"absolute","z-index":"-99","font-size":"13px",background:"transparent",opacity:"0"}}),o("div",{ref:"container",staticClass:"container",style:{width:t.width+"px",height:t.height+"px"},on:{mousewheel:function(e){return e.stopPropagation(),t.mousewheel(e)},touchstart:t.touchstart,click:function(e){t.navCoods={}}}},[o("div",{staticClass:"body"},[0==t.row.length?o("div",{staticClass:"no-text"},[t._v("暂无数据")]):t._e(),o("div",{staticClass:"expand",style:{width:t.fullWidth+"px",height:t.fullHeight+"px"}}),o("div",{staticClass:"sheet-header"},[o("div",{staticClass:"sheet-header-left"},[t.showStatus?o("div",{staticClass:"tbl-cell check-cell",style:{height:t.colRelMaxLevel*t.cellHeight+"px",left:"0px",width:t.statusWidth+"px"}}):t._e(),t.showCheckBoxAndIndex?o("div",{staticClass:"tbl-cell check-cell",style:{height:t.colRelMaxLevel*t.cellHeight+"px",left:(t.showStatus?t.statusWidth:0)+"px",width:"40px","border-left-width":t.showStatus?"0px":"1px"}},[o("i",{directives:[{name:"show",rawName:"v-show",value:0==t.headerCheckStatus,expression:"headerCheckStatus == false"}],key:"1",staticClass:"fa fa-square-o",staticStyle:{color:"#999"}}),o("i",{directives:[{name:"show",rawName:"v-show",value:"all"==t.headerCheckStatus,expression:"headerCheckStatus == 'all'"}],key:"2",staticClass:"fa fa-check-square",on:{touchstart:function(e){t.headerCheckStatus="none"},click:function(e){t.headerCheckStatus="none"}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:"none"==t.headerCheckStatus,expression:"headerCheckStatus == 'none'"}],key:"3",staticClass:"fa fa-square-o",on:{touchstart:function(e){t.headerCheckStatus="all"},click:function(e){t.headerCheckStatus="all"}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:"some"==t.headerCheckStatus,expression:"headerCheckStatus == 'some'"}],key:"4",staticClass:"fa fa-square",on:{touchstart:function(e){t.headerCheckStatus="all"},click:function(e){t.headerCheckStatus="all"}}})]):t._e(),t.showOperate?o("div",{staticClass:"tbl-cell check-cell",style:{height:t.colRelMaxLevel*t.cellHeight+"px",left:(t.showStatus?+t.statusWidth:0)+(t.showCheckBoxAndIndex?40:0)+"px",width:"40px"}},[t.entry?o("i",{staticClass:"entry-add",attrs:{title:"向表格末尾增加一行"},on:{click:function(e){return e.stopPropagation(),t.addLine(e)},touchstart:function(e){return e.stopPropagation(),t.addLine(e)}}},[o("i",{staticClass:"fa fa-plus-circle"})]):o("i",[o("i",{staticClass:"fa fa-cog"})])]):t._e(),t._l(t.colFixHeader,function(e){return o("div",{key:e._colid,staticClass:"tbl-cell nowrap",class:[t.geScrollLeftArea>20?"needShadow":""],style:{height:t.colRelMaxLevel*t.cellHeight+"px","line-height":t.colRelMaxLevel*t.cellHeight+"px",left:e._left+"px",width:e.width+"px","border-right":"1px solid #d8d8d8",display:e.hide?"none":"block"}},[e.icon?["mul_select"==e.icon?o("i",{staticClass:"icon fa fa-chevron-circle-down"}):"select"==e.icon?o("i",{staticClass:"icon fa fa-angle-down"}):"normal"==e.icon?o("i",{staticClass:"icon fa fa-info-circle"}):"edit"==e.icon?o("i",{staticClass:"icon fa fa-pencil-square-o"}):"number"==e.icon?o("i",{staticClass:"icon fa fa-hashtag"}):"date"==e.icon?o("i",{staticClass:"icon fa fa-calendar-o"}):"time"==e.icon?o("i",{staticClass:"icon fa fa-clock-o"}):o("i",{class:[e.icon,"icon"]})]:t._e(),t._v(" \n                "+t._s(e.title)+"\n\n                "),o("span",{staticClass:"drag-pad",on:{click:function(t){t.preventDefault(),t.stopPropagation()},mousedown:function(o){o.preventDefault(),o.stopPropagation(),t.dragDown(e,o)}}},[t._v(" ")]),e.sort?o("span",{staticClass:"sort-wrap",on:{click:function(o){o.stopPropagation(),t.colSort(e)}}},[o("i",{staticClass:"fa fa-sort-desc",class:{active:"desc"==e._sort}}),o("i",{staticClass:"fa fa-sort-asc",class:{active:"asc"==e._sort}})]):t._e()],2)})],2),o("div",{staticClass:"sheet-header-right",style:{left:t.colFixHeaderWidth+"px",transform:"translate("+-1*t.geScrollLeftArea+"px, 0px)"}},[t._l(t.realCol,function(e){return t._l(e,function(e){return o("div",{key:e._colid,staticClass:"tbl-cell nowrap",style:{height:(e._verticalSpace+1||1)*t.cellHeight+"px",left:e._left-t.colFixHeaderWidth+"px",top:e._verticalSpace?e._top-e._verticalSpace*t.cellHeight+"px":e._top+"px",width:e.width+"px","line-height":(e._verticalSpace+1||1)*t.cellHeight+"px",display:e.hide?"none":"block"}},[e.icon?["mul_select"==e.icon?o("i",{staticClass:"icon fa fa-chevron-circle-down"}):"select"==e.icon?o("i",{staticClass:"icon fa fa-angle-down"}):"normal"==e.icon?o("i",{staticClass:"icon fa fa-info-circle"}):"edit"==e.icon?o("i",{staticClass:"icon fa fa-pencil-square-o"}):"number"==e.icon?o("i",{staticClass:"icon fa fa-hashtag"}):"date"==e.icon?o("i",{staticClass:"icon fa fa-calendar-o"}):"time"==e.icon?o("i",{staticClass:"icon fa fa-clock-o"}):o("i",{class:[e.icon,"icon"]})]:t._e(),t._v(" \n                  "+t._s(e.title)+"\n\n                  "),e._isLevel?t._e():o("span",{staticClass:"drag-pad",on:{click:function(t){t.preventDefault(),t.stopPropagation()},mousedown:function(o){o.preventDefault(),o.stopPropagation(),t.dragDown(e,o)}}},[t._v(" ")]),e.sort?o("span",{staticClass:"sort-wrap",on:{click:function(o){o.stopPropagation(),t.colSort(e)}}},[o("i",{staticClass:"fa fa-sort-desc",class:{active:"desc"==e._sort}}),o("i",{staticClass:"fa fa-sort-asc",class:{active:"asc"==e._sort}})]):t._e()],2)})})],2)]),o("div",{staticClass:"sheet-body",style:{transform:"translate(0px, "+-1*t.geScrollTopArea+"px)"}},t._l(t.row,function(e,i){return(i+1)*t.cellHeight-t.geScrollTopArea>-t.cellHeight&&(i+1)*t.cellHeight-t.geScrollTopArea<t.height+t.cellHeight?o("div",{key:e._rowid+"-row",staticClass:"sheet-line",class:{actived:e._rowid==t.sheetLineActived},style:{top:(i+t.colRelMaxLevel)*t.cellHeight+"px"}},[o("div",{staticClass:"sheet-body-left"},[t.showStatus?o("div",{staticClass:"tbl-cell check-cell",class:{"status-error":e._error,"status-modify":e._modify,"status-add":e._add},style:{height:t.cellHeight+"px",left:"0px",width:t.statusWidth+"px","border-right-width":"0px"}}):t._e(),t.showCheckBoxAndIndex?[e.noCheckAble?o("div",{staticClass:"tbl-cell check-cell",style:{height:t.cellHeight+"px",left:(t.showStatus?+t.statusWidth:0)+"px",width:"40px",cursor:"no-drop"}},[o("i",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"rowItem.checked"}],staticClass:"fa fa-check-square",staticStyle:{cursor:"no-drop",opacity:"0.35"}}),o("i",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!rowItem.checked"}],staticClass:"fa fa-square-o",staticStyle:{cursor:"no-drop",opacity:"0.35"}})]):o("div",{key:e._rowid,staticClass:"tbl-cell check-cell",class:[e._error?"error":e._modify?"modify":"",t.geScrollLeftArea>20?"needShadow":""],style:{height:t.cellHeight+"px",left:(t.showStatus?+t.statusWidth:0)+"px",width:"40px"},on:{mouseover:function(o){o.stopPropagation(),t.$set(t.lineHover,"lineHover-"+e._rowid,!0)},mouseout:function(o){o.stopPropagation(),t.$set(t.lineHover,"lineHover-"+e._rowid,!1)}}},[(t.lineHover["lineHover-"+e._rowid]||e.checked)&&!t.onlyShowIndex||0==t.isPC||1==t.onlyShowCheckBox?[o("i",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"rowItem.checked"}],staticClass:"fa fa-check-square",on:{touchstart:function(o){t.checkBox(e)},click:function(o){t.checkBox(e)}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!rowItem.checked"}],staticClass:"fa fa-square-o",on:{touchstart:function(o){t.checkBox(e)},click:function(o){t.checkBox(e)}}})]:[o("span",{staticClass:"nowrap",staticStyle:{"font-size":"10px"}},[t._v(t._s(1*i+1))])]],2)]:t._e(),t.showOperate?o("div",{ref:"operate-"+e._rowid,refInFor:!0,staticClass:"tbl-cell check-cell clearfix",style:{height:t.cellHeight+"px",left:(t.showStatus?+t.statusWidth:0)+(t.showCheckBoxAndIndex?40:0)+"px",width:"40px",position:"relative"},on:{click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}},[o("div",{staticClass:"operate-cir",class:{activeOperate:t.operate_show&&t.operate_info._rowid==e._rowid},on:{click:function(o){t.operateShowFn(e)}}},[o("i",{staticClass:"fa fa-list"})]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.operate_loading["loading"+e._rowid],expression:"operate_loading['loading' + rowItem._rowid]"}],staticClass:"operate_loading",on:{click:function(t){t.stopPropagation()}}},[o("div",{staticClass:"skype-loader"},t._l(4,function(i){return o("div",{key:"dot-"+i,staticClass:"dot",class:{save:"save"==t.operate_loading["loading-type-"+e._rowid],remove:"remove"==t.operate_loading["loading-type-"+e._rowid]}})}))])]):t._e(),t._l(t.colFixHeader,function(i){return o("div",{key:e._rowid+"-"+i._colid,ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"tbl-cell",class:[t.geScrollLeftArea>20?"needShadow":""],style:{left:i._left+"px",width:i.width+"px",height:t.cellHeight+"px",display:i.hide?"none":"block"},on:{click:function(t){t.stopPropagation()},mouseover:function(o){o.stopPropagation(),t.cellOver(e,i)},mouseout:function(o){t.cellOut(e,i)}}},["normal"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",style:[e[i.props].style],on:{click:function(e){e.stopPropagation(),t.hideOption(),t.navCoods={}},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("div",{staticClass:"text nowrap"},[t._v("\n                          "+t._s(e[i.props].value)+"\n                      ")])]):t._e(),"edit"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)},click:function(o){o.stopPropagation(),t.highlight(e,i)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid},style:[e[i.props].style],attrs:{type:"text"},domProps:{value:e[i.props].value},on:{focus:function(o){t.hideOption(),t.highlight(e,i)},input:function(o){t.selectFullData=null,t.modifyByRowCol(e._rowid,i.props,o.target.value)}}}),o("i",{staticClass:"fa fa-pencil-square-o edit-close"})]):t._e(),"number"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)},click:function(o){o.stopPropagation(),t.highlight(e,i)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid},style:[e[i.props].style],attrs:{type:"number"},domProps:{value:e[i.props].value},on:{focus:function(o){t.hideOption(),t.highlight(e,i)},input:function(o){t.selectFullData=null,t.modifyByRowCol(e._rowid,i.props,o.target.value)},blur:function(o){t.checkNumber(e,i,o.target.value)}}})]):t._e(),"select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.searchFocus(e,i),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[i.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"opt_select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.opt_searchFocus(e,i),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[i.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"opt_select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"opt_mul_select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.opt_searchFocus(e,i,!0),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[i.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"opt_mul_select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"mul_select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[i.props].value.join("， ")},on:{focus:function(o){t.searchFocus(e,i,!0),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:0!=e[i.props].id.length,expression:"rowItem[col.props].id.length != 0"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"mul_select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"date"==e[i.props].type||"datetime"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.dataPicker_show&&t.dataPicker_info.row&&t.dataPicker_info.row._rowid==e._rowid&&i._colid==t.dataPicker_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style,{"text-indent":"20px"}],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.dataPickerFocus(e,i),t.highlight(e,i)}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e[i.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-calendar-o edit-close",staticStyle:{cursor:"default"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"time"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.timePicker_show&&t.timePicker_time.row&&t.timePicker_time.row._rowid==e._rowid&&i._colid==t.timePicker_time.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style,{"text-indent":"16px"}],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.timePickerFocus(e,i),t.highlight(e,i)}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e[i.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-clock-o edit-close",staticStyle:{cursor:"default"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"month"==e[i.props].type||"year"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid},style:[e[i.props].style],attrs:{type:"text",placeholder:t.placeholder_date(e[i.props].type)},domProps:{value:e[i.props].value},on:{focus:function(o){t.hideOption(),t.highlight(e,i)},input:function(o){this.selectFullData=null,t.modifyByRowCol(e._rowid,i.props,o.target.value)},blur:function(o){t.checkDate(e,i,o.target.value,e[i.props].type)}}}),o("i",{staticClass:"fa edit-close",class:["time"==e[i.props].type?"fa-clock-o":"fa-calendar-o"]})]):t._e()])})],2),o("div",{staticClass:"sheet-body-right",style:{left:t.colFixHeaderWidth+"px",transform:"translate("+-1*t.geScrollLeftArea+"px, 0px)"}},t._l(t.colActiveHeader,function(i){return t.geScrollLeftArea-i._left<i.width&&i._left-t.geScrollLeftArea-t.width<i.width?o("div",{key:e._rowid+"-"+i._colid,ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"tbl-cell",style:{left:i._left-t.colFixHeaderWidth+"px",width:i.width+"px",height:t.cellHeight+"px",display:i.hide?"none":"block"},on:{click:function(t){t.stopPropagation()},mouseover:function(o){o.stopPropagation(),t.cellOver(e,i)},mouseout:function(o){t.cellOut(e,i)}}},["normal"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",style:[e[i.props].style],on:{click:function(e){e.stopPropagation(),t.hideOption(),t.navCoods={}},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("div",{staticClass:"text nowrap"},[t._v("\n                          "+t._s(e[i.props].value)+"\n                      ")])]):t._e(),"edit"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)},click:function(o){o.stopPropagation(),t.highlight(e,i)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid},style:[e[i.props].style],attrs:{type:"text"},domProps:{value:e[i.props].value},on:{focus:function(o){t.hideOption(),t.highlight(e,i)},input:function(o){t.selectFullData=null,t.modifyByRowCol(e._rowid,i.props,o.target.value)}}}),o("i",{staticClass:"fa fa-pencil-square-o edit-close"})]):t._e(),"number"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)},click:function(o){o.stopPropagation(),t.highlight(e,i)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid},style:[e[i.props].style],attrs:{type:"number"},domProps:{value:e[i.props].value},on:{focus:function(o){t.hideOption(),t.highlight(e,i)},input:function(o){t.selectFullData=null,t.modifyByRowCol(e._rowid,i.props,o.target.value)},blur:function(o){t.checkNumber(e,i,o.target.value)}}})]):t._e(),"select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.searchFocus(e,i),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[i.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"opt_select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.opt_searchFocus(e,i),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[i.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"opt_select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"opt_mul_select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.opt_searchFocus(e,i,!0),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[i.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"opt_mul_select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"mul_select"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&i._colid==t.option_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[i.props].value.join("， ")},on:{focus:function(o){t.searchFocus(e,i,!0),t.highlight(e,i)},blur:function(t){t.stopPropagation()}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:0!=e[i.props].id.length,expression:"rowItem[col.props].id.length != 0"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(o){t.selectClose(e,i,"mul_select")}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"date"==e[i.props].type||"datetime"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.dataPicker_show&&t.dataPicker_info.row&&t.dataPicker_info.row._rowid==e._rowid&&i._colid==t.dataPicker_info.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style,{"text-indent":"20px"}],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.dataPickerFocus(e,i),t.highlight(e,i)}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e[i.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-calendar-o edit-close",staticStyle:{cursor:"default"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"time"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)},touchend:function(o){o.stopPropagation(),t.inpTouchEnd(e._rowid,i._colid)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.timePicker_show&&t.timePicker_time.row&&t.timePicker_time.row._rowid==e._rowid&&i._colid==t.timePicker_time.col._colid?"active":"",{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid}],style:[e[i.props].style,{"text-indent":"16px"}],attrs:{type:"text",readonly:""},domProps:{value:e[i.props].value},on:{focus:function(o){t.timePickerFocus(e,i),t.highlight(e,i)}}}),o("i",{directives:[{name:"show",rawName:"v-show",value:e[i.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-clock-o edit-close",staticStyle:{cursor:"default"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show||t.dataPicker_show||t.timePicker_show,expression:"option_show || dataPicker_show || timePicker_show"}],staticClass:"input-mask",on:{click:t.hideOption,touchstart:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}})]):t._e(),"month"==e[i.props].type||"year"==e[i.props].type?o("div",{ref:"cell-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"cell",on:{click:function(o){o.stopPropagation(),t.highlight(e,i)}}},[o("input",{ref:"inp-"+e._rowid+"-"+i._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:{highlight:t.navCoodsComp.row==e._rowid&&t.navCoodsComp.col==i._colid},style:[e[i.props].style],attrs:{type:"text",placeholder:t.placeholder_date(e[i.props].type)},domProps:{value:e[i.props].value},on:{focus:function(o){t.hideOption(),t.highlight(e,i)},input:function(o){this.selectFullData=null,t.modifyByRowCol(e._rowid,i.props,o.target.value)},blur:function(o){t.checkDate(e,i,o.target.value,e[i.props].type)}}}),o("i",{staticClass:"fa edit-close",class:["time"==e[i.props].type?"fa-clock-o":"fa-calendar-o"]})]):t._e()]):t._e()}))]):t._e()}))]),t.width*t.width/t.fullWidth<t.width?o("div",{staticClass:"scrollbar-x",style:{width:t.width+"px"}},[o("div",{staticClass:"scrollbar-x-drag",style:{width:t.width*t.width/t.fullWidth+"px",left:t.scrollLeft+"px"},on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.scrollMouseDown(e,"x")}}})]):t._e(),(t.height-t.colRelMaxLevel*t.cellHeight)*(t.height-t.colRelMaxLevel*t.cellHeight)/t.fullHeight<t.height-t.colRelMaxLevel*t.cellHeight?o("div",{staticClass:"scrollbar-y",class:[t.isPC?"":"mob"],style:{height:t.height-t.colRelMaxLevel*t.cellHeight+"px",top:t.colRelMaxLevel*t.cellHeight+"px"}},[o("div",{staticClass:"scrollbar-y-drag",style:{height:(t.height-t.colRelMaxLevel*t.cellHeight)*(t.height-t.colRelMaxLevel*t.cellHeight)/t.fullHeight+"px",top:t.scrollTop+"px"},on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.scrollMouseDown(e,"y")}}},[(t.height-t.colRelMaxLevel*t.cellHeight)*(t.height-t.colRelMaxLevel*t.cellHeight)/t.fullHeight<32?[o("div",{staticClass:"drag-x1"}),o("div",{staticClass:"drag-x2"})]:t._e()],2)]):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:t.dragLineShow,expression:"dragLineShow"}],staticClass:"drag_line",style:{left:t.dragLeft+"px"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}})]),o("transition",{attrs:{name:"option"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show,expression:"option_show"}],ref:"optionDOM",staticClass:"option",style:{left:t.option_left+"px",top:t.option_top+"px",width:t.option_width+"px"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_hide_arrow,expression:"!option_hide_arrow"}],staticClass:"arrow"}),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_loading&&t.option_show_search,expression:"!option_loading && option_show_search"}],staticClass:"search-text",on:{click:function(e){t.$refs.option_inp.focus()}}},[o("span",[o("i",{staticClass:"fa fa-search"})]),o("input",{ref:"option_inp",attrs:{placeholder:"搜索",type:"text"},domProps:{value:t.option_search},on:{input:function(e){t.searchInput(e)}}})]),o("div",{staticClass:"opp"},[t.option_loading?o("div",{staticStyle:{"text-align":"center","padding-top":"10px","padding-bottom":"10px",color:"#a9a9a9"}},[t._v("加载中...")]):o("div",t._l(t.option_data,function(e){return o("div",{key:e.id,staticClass:"option-item",class:[e.select?"select":""],on:{click:function(o){t.optionItemClick(e)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))]),!t.option_loading&&t.showOptionPage&&t.option_total_page>1?o("div",{staticClass:"page"},[o("i",{staticClass:"page-arrow fa fa-angle-left",on:{click:function(e){e.stopPropagation(),t.searchByPage(-1)}}}),o("span",[t._v(t._s(t.option_current_page)+" / "+t._s(t.option_total_page))]),o("i",{staticClass:"page-arrow fa fa-angle-right",on:{click:function(e){e.stopPropagation(),t.searchByPage(1)}}})]):t._e()])]),t.showPrompt?o("div",{directives:[{name:"show",rawName:"v-show",value:t.hover_show,expression:"hover_show"}],staticClass:"hover-show",style:{left:t.hover_left-6+"px",bottom:t.hover_bottom+"px",width:t.hover_width+12+"px","word-wrap":"break-word"}},[o("span",{domProps:{innerHTML:t._s(t.hover_text)}})]):t._e(),o("transition",{attrs:{name:"option"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.dataPicker_show,expression:"dataPicker_show"}],ref:"dataPicker",staticClass:"data-picker",style:{left:t.dataPicker_left+"px",top:t.dataPicker_top+"px",width:t.dataPicker_width+"px"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_hide_arrow,expression:"!option_hide_arrow"}],staticClass:"arrow"}),o("div",{staticClass:"picker-arrow clearfix"},[o("span",{staticClass:"fa fa-angle-double-left",staticStyle:{float:"left"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateYear(-1)}}}),o("span",{staticClass:"fa fa-angle-left",staticStyle:{float:"left"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateMonth(-1)}}}),o("i",{staticClass:"arrow-date"},[t._v(t._s(t.getPickerArray.year)+"-"+t._s(t.getPickerArray.month))]),o("span",{staticClass:"fa fa-angle-double-right",staticStyle:{float:"right"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateYear(1)}}}),o("span",{staticClass:"fa fa-angle-right",staticStyle:{float:"right"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateMonth(1)}}})]),o("div",{staticClass:"date-tbl"},[o("div",{staticClass:"date-week"},[o("span",[t._v("一")]),o("span",[t._v("二")]),o("span",[t._v("三")]),o("span",[t._v("四")]),o("span",[t._v("五")]),o("span",[t._v("六")]),o("span",[t._v("日")])]),o("div",{staticClass:"date-day"},t._l(t.getPickerArray.res,function(e,i){return o("div",{key:i,staticClass:"day-line"},t._l(e,function(e){return o("span",{key:e.date,class:[e.currentMonth?"":"not-now",e.active?"active":"",e.active2?"active2":""],on:{click:function(o){o.stopPropagation(),t.datapickerClick(e.date)}}},[t._v("\n              "+t._s(e.day)+"\n            ")])}))}))]),t.dataPicker_info.row&&"datetime"==t.dataPicker_info.row[t.dataPicker_info.col.props].type?o("div",{staticClass:"datetime-wrap"},[o("label",[o("input",{attrs:{type:"number"},domProps:{value:t.dateTimeHMS.h},on:{input:function(e){t.dateTimeHMSFn(e,"h")}}}),o("span",[t._v("时")])]),o("label",[o("input",{attrs:{type:"number"},domProps:{value:t.dateTimeHMS.m},on:{input:function(e){t.dateTimeHMSFn(e,"m")}}}),o("span",[t._v("分")])]),o("label",[o("input",{attrs:{type:"number"},domProps:{value:t.dateTimeHMS.s},on:{input:function(e){t.dateTimeHMSFn(e,"s")}}}),o("span",[t._v("秒")])])]):t._e(),o("div",{staticClass:"select-now clearfix"},[o("div",{staticClass:"toDay",on:{click:function(e){e.stopPropagation(),t.datapickerClick(null)}}},[t._v("现在")]),o("div",{staticClass:"clear",on:{click:function(e){e.stopPropagation(),t.datapickerClick("clear")}}},[t._v("清空")]),t.dataPicker_info.row&&"datetime"==t.dataPicker_info.row[t.dataPicker_info.col.props].type?o("div",{staticClass:"clear",staticStyle:{float:"left",color:"#05a78d",width:"62px"},on:{click:function(e){e.stopPropagation(),t.datapickerClick("confirm")}}},[o("i",{staticClass:"fa fa-check"}),t._v("\n            完成\n        ")]):t._e()])])]),o("transition",{attrs:{name:"option"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.timePicker_show,expression:"timePicker_show"}],ref:"timePicker",staticClass:"time-picker",style:{left:t.timePicker_left+"px",top:t.timePicker_top+"px",width:t.timePicker_width+"px"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_hide_arrow,expression:"!option_hide_arrow"}],staticClass:"arrow"}),o("div",{staticClass:"time-control"},[o("div",{staticClass:"time-h",staticStyle:{"font-size":"15px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v("时")]),o("div",{staticClass:"time-m",staticStyle:{"font-size":"15px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v("分")]),o("div",{staticClass:"time-s",staticStyle:{"font-size":"15px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v("秒")])]),o("div",{staticClass:"time-control"},[o("div",{staticClass:"time-h"},[o("div",{staticClass:"time-add",on:{click:function(e){t.timePickerFn("h",1)}}},[o("i",{staticClass:"fa fa-plus"})]),o("div",{staticClass:"time-show",staticStyle:{"font-size":"16px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v(t._s(t.timePickerComputed.h))]),o("div",{staticClass:"time-des",on:{click:function(e){t.timePickerFn("h",-1)}}},[o("i",{staticClass:"fa fa-minus"})])]),o("div",{staticClass:"time-m"},[o("div",{staticClass:"time-add",on:{click:function(e){t.timePickerFn("m",1)}}},[o("i",{staticClass:"fa fa-plus"})]),o("div",{staticClass:"time-show",staticStyle:{"font-size":"16px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v(t._s(t.timePickerComputed.m))]),o("div",{staticClass:"time-des",on:{click:function(e){t.timePickerFn("m",-1)}}},[o("i",{staticClass:"fa fa-minus"})])]),o("div",{staticClass:"time-s"},[o("div",{staticClass:"time-add",on:{click:function(e){t.timePickerFn("s",1)}}},[o("i",{staticClass:"fa fa-plus"})]),o("div",{staticClass:"time-show",staticStyle:{"font-size":"16px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v(t._s(t.timePickerComputed.s))]),o("div",{staticClass:"time-des",on:{click:function(e){t.timePickerFn("s",-1)}}},[o("i",{staticClass:"fa fa-minus"})])])]),o("div",{staticClass:"line--"}),o("div",{staticClass:"time-circle"},[o("span",{staticClass:"minitem-title",class:[0==t.timeType?"active":""],staticStyle:{top:"-5px"},on:{click:t.timeTypeChange}},[o("i",{staticClass:"minitem-orb"}),o("div",{style:{"text-indent":t.timeType?"23px":"7px"}},[t._v(t._s(0==t.timeType?"PM":"AM"))])]),t._l(t.timeMinute,function(e,i){return o("span",{key:"timeMinute"+i,staticClass:"minitem",style:{left:e.left+"px",top:e.top+"px"},on:{click:function(o){t.timePickerFn("m",0,e.value)}}},[t._v("\n          "+t._s(e.value)+"\n        ")])}),t._l(t.timeHoursComputed,function(e,i){return o("span",{key:"timeHoursComputed"+i,staticClass:"minitem",style:{left:e.left+"px",top:e.top+"px"},on:{click:function(o){t.timePickerFn("h",0,e.value)}}},[t._v("\n          "+t._s(e.alias?e.alias:e.value)+"\n        ")])}),o("span",{staticClass:"pin-center"},[o("span",{staticClass:"pin-line",style:{transform:"rotate("+(+t.timePickerComputed.radius-90)+"deg)","transform-origin":"left center"}})]),o("span",{staticClass:"pin-center"},[o("span",{staticClass:"pin-line pin-hours",style:{transform:"rotate("+ +t.pickerHoursComputed.radius+"deg)","transform-origin":"left center",background:"#7e8f9d",width:"40px",height:"2px","border-radius":"4px"}})])],2),o("div",{staticClass:"btn clearfix"},[o("div",{staticClass:"confirm",style:{color:t.timeType?"#05a78d":"#6754c7"},on:{click:function(e){t.timePickerBtn()}}},[o("i",{staticClass:"fa fa-check"}),t._v("  完成\n        ")]),o("div",{staticClass:"cancel",on:{click:function(e){t.timePickerBtnNow()}}},[t._v("现在")]),o("div",{staticClass:"clear",on:{click:function(e){t.timePickerBtn("clear")}}},[t._v("清空")])])])]),o("transition",{attrs:{name:"option"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.operate_show,expression:"operate_show"}],staticClass:"option",style:{left:t.operate_left+"px",top:t.operate_top+"px",width:"120px",transition:"all 0s, top .17s, scaleY .17s;"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_hide_arrow,expression:"!option_hide_arrow"}],staticClass:"arrow"}),o("div",{staticClass:"operate-item-wrap"},[o("div",{directives:[{name:"show",rawName:"v-show",value:void 0==t.operate_info.operate_item||t.operate_info.operate_item.save,expression:"\n            operate_info.operate_item == undefined\n            ?\n            true\n            :\n            operate_info.operate_item.save\n          "}],staticClass:"operate-item",on:{click:function(e){t.operateFn("save")}}},[o("i",{staticClass:"fa fa-floppy-o"}),t._v("  \n          保存\n        ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:void 0==t.operate_info.operate_item||t.operate_info.operate_item.add,expression:"\n            operate_info.operate_item == undefined\n            ?\n            true\n            :\n            operate_info.operate_item.add\n          "}],staticClass:"operate-item",class:{"no-entry":0==t.entry},on:{click:function(e){t.operateFn("add")}}},[o("i",{staticClass:"fa fa-plus"}),t._v("  \n          增加一行\n        ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:void 0==t.operate_info.operate_item||t.operate_info.operate_item.remove,expression:"\n            operate_info.operate_item == undefined\n            ?\n            true\n            :\n            operate_info.operate_item.remove\n          "}],staticClass:"operate-item",on:{click:function(e){t.operateFn("remove")}}},[o("i",{staticClass:"fa fa-minus"}),t._v("  \n          删除该行\n        ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:void 0==t.operate_info.operate_item||t.operate_info.operate_item.up,expression:"\n            operate_info.operate_item == undefined\n            ?\n            true\n            :\n            operate_info.operate_item.up\n          "}],staticClass:"operate-item",on:{click:function(e){t.operateFn("up")}}},[o("div",{staticClass:"fa fa-caret-up"}),t._v("  \n          向上移动\n        ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:void 0==t.operate_info.operate_item||t.operate_info.operate_item.down,expression:"\n            operate_info.operate_item == undefined\n            ?\n            true\n            :\n            operate_info.operate_item.down\n          "}],staticClass:"operate-item",on:{click:function(e){t.operateFn("down")}}},[o("div",{staticClass:"fa fa-caret-down"}),t._v("  \n          向下移动\n        ")])])])])],1)},s=[],a=o("a94B"),n=(o("Vd3H"),o("f3/d"),o("k5N+")),r=(o("yt8O"),o("/8Fb"),o("Oyvg"),o("pIFo"),o("a1Th"),o("yT7P")),c=(o("KKXr"),o("rGqo"),o("0mN4"),o("VRzm"),{props:{colData:{required:!0},rowData:{required:!0},colRelation:{default:function(){return[]}},entry:{default:!1},scrollSpeed:{default:2},showCheckBoxAndIndex:{default:!0},onlyShowIndex:{default:!1},onlyShowCheckBox:{default:!1},showPrompt:{default:!0},searchDelayTime:{default:500},showOptionPage:{default:!0},optionQueryAlias:{default:function(){return{limit:"limit",offset:"offset",q:"q"}}},option_limit:{default:100},showOperate:{default:!1},showStatus:{default:!1}},data:function(){return{width:0,height:0,cellHeight:40,scrollLeft:0,scrollTop:0,lineHover:{},col:[],row:[],colRel:[],reset:0,statusWidth:4,selectFullData:null,option_data:[],option_info:{},option_loading:!1,option_width:0,option_hide_arrow:!1,option_left:0,option_top:0,option_show:!1,option_current_page:1,option_search:"",option_total_number:0,dataPicker_info:{},dataPicker_date:"",dataPicker_show:!1,dataPicker_left:0,dataPicker_top:0,dataPicker_width:0,timePicker_show:!1,timePicker_left:0,timePicker_top:0,timePicker_width:0,timePicker_time:{},timeMinute:[],timeType:!0,dragLeft:0,dragLineShow:!1,hover_show:!1,hover_info:{},hover_width:0,hover_bottom:0,hover_left:0,isPC:!0,_optionCanShowDisX:0,_optionCanShowDisY:0,operate_show:!1,operate_left:0,operate_top:0,operate_info:{},operate_loading:{},log:[],startLog:!1,navCoods:{}}},computed:{fullWidth:function(){for(var t=0,e=0;e<this.col.length;e++)this.col[e].hide||(t+=this.col[e].width);return this.showCheckBoxAndIndex&&(t+=40),this.showOperate&&(t+=40),this.showStatus&&(t+=+this.statusWidth),t},fullHeight:function(){return this.cellHeight*(this.row.length+.5)},geScrollLeftArea:{get:function(){var t=this.width*this.width/this.fullWidth,e=0;return e=(this.scrollLeft+t)/this.width*this.fullWidth-this.width,e},set:function(t){var e=this.width*this.width/this.fullWidth;this.scrollLeft=(t+this.width)/this.fullWidth*this.width-e}},geScrollTopArea:{get:function(){var t=this.height-this.colRelMaxLevel*this.cellHeight,e=t*t/this.fullHeight,o=0;return o=(this.scrollTop+e)/t*this.fullHeight-t,o},set:function(t){var e=this.height-this.colRelMaxLevel*this.cellHeight,o=e*e/this.fullHeight;this.scrollTop=(t+e)/this.fullHeight*e-o}},colFixHeader:function(){return this.col.filter(function(t){return t.fixed})},colActiveHeader:function(){return this.col.filter(function(t){return!t.fixed})},colFixHeaderWidth:function(){for(var t=0,e=0;e<this.colFixHeader.length;e++)t+=this.colFixHeader[e].width;return t},headerCheckStatus:{get:function(){var t=this.row.filter(function(t){return!t.noCheckAble}).length,e=this.row.filter(function(t){return t.checked&&!t.noCheckAble}).length;return 0!=t&&(t==e?"all":e>0?"some":0==e?"none":void 0)},set:function(t){if("none"==t){var e=this.deepClone(this.row);e.forEach(function(t){t.noCheckAble||(t.checked=!1)}),this.row=e}if("all"==t){var o=this.deepClone(this.row);o.forEach(function(t){t.noCheckAble||(t.checked=!0)}),this.row=o}}},hover_text:function(){var t=this;if("mul_select"!=this.hover_info.type&&"opt_mul_select"!=this.hover_info.type)return this.hover_info.value;var e=this.row.filter(function(e){return e._rowid==t.hover_info.rowid});if(0==e.length)return"";var o=e[0][this.hover_info.props].value,i="".concat(o.map(function(t){return' <span style="display: inline-block; margin: 2px; background: #fff; color: #009fff; padding: 2px 6px; border: 1px solid #009fff;">'.concat(t,"</span> ")}).join(""));return i},colRelMaxLevel:function(){for(var t=1,e=0;e<this.colRel.length;e++)this.colRel[e].level&&this.colRel[e].level>t&&(t=this.colRel[e].level);return t},realCol:function(){for(var t=[],e=this.colRelMaxLevel,o=this.col.length,i=0;i<this.colRel.length;i++){void 0==t[this.colRel[i].level-1]&&(t[this.colRel[i].level-1]=[]);var s={_colid:"level-"+this.colRel[i].level+"-"+i,_top:(e-this.colRel[i].level)*this.cellHeight,title:this.colRel[i].title,_isLevel:!0,_left:0,width:0},a=this.colRel[i].indexStart,n=this.colRel[i].indexEnd||this.col.length;s._left=this.col[a]._left;for(var r=0,c=a;c<n;c++)r+=this.col[c].width;s.width=r,t[this.colRel[i].level-1].push(s)}t[0]=this.jsonClone(this.col);for(var l=0;l<t[0].length;l++)t[0][l]._verticalSpace=this.colRelMaxLevel-1;for(var h=0;h<this.colRel.length;h++)for(var d=this.colRel[h].indexStart,p=this.colRel[h].indexEnd||o,u=0;u<t[0].length;u++)u>=d&&u<p&&(t[0][u]._verticalSpace-=1);return t},option_total_page:function(){return Math.ceil(this.option_total_number/this.option_limit)},option_show_search:function(){return void 0!=this.option_info.row&&("opt_select"!=this.option_info.row[this.option_info.col.props].type&&"opt_mul_select"!=this.option_info.row[this.option_info.col.props].type)},getPickerArray:{get:function(){if(""==this.dataPicker_date)return{};var t=this.dataPicker_date,e=this.dataPicker_date==this.dataPicker_info.row[this.dataPicker_info.col.props].value,o=new Date(t),i=[],s=o.getFullYear(),a=+o.getMonth(),n=+o.getDate(),r=new Date(s+"-"+(+a+1<10?"0"+(+a+1):+a+1)+"-01").getDay();r=0==r?7:r;for(var c=r-1,l=new Date(+a+1==1?s-1:s,+a+1-1==0?12:+a+1-1,0).getDate(),h=new Date(s,+a+1,0).getDate(),d=c-1;d>=0;d--){var p=+a+1==1?12:+a+1-1,u=l-d;p<10&&(p="0"+p),u<10&&(u="0"+u),i.push({date:(+a+1==1?s-1:s)+"-"+p+"-"+u,day:l-d,currentMonth:!1,active:!1})}for(var f=1;f<=h;f++){var w=+a+1,_=f;w<10&&(w="0"+w),_<10&&(_="0"+_),i.push({date:s+"-"+w+"-"+_,currentMonth:!0,day:f,active:!(f!=n||!e),active2:this.dataPicker_date.split(" ")[0]==s+"-"+w+"-"+_&&"datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type})}for(var v=i.length,m=1;m<=42-v;m++){var g=+a+1==12?1:+a+1+1,k=m;g<10&&(g="0"+g),k<10&&(k="0"+k),i.push({date:(+a+1==12?s+1:s)+"-"+g+"-"+k,day:m,currentMonth:!1,active:!1})}for(var C=[],y=0,P=0;P<6;P++){C[P]=[];for(var x=0;x<7;x++)C[P].push(i[y]),y++}return{year:s,month:+a+1<10?"0"+(+a+1):+a+1,day:n,week:r,res:C}},set:function(t){this.dataPicker_date=t}},timePickerComputed:{get:function(){var t=this.timePicker_time.h,e=this.timePicker_time.m,o=this.timePicker_time.s,i=+e/60*360;return Object(r["a"])({},this.timePicker_time,{h:t,s:o,m:e,radius:i})},set:function(t){this.timePicker_time=t}},timeHoursComputed:function(){for(var t=[],e=50,o=110,i=110,s=24,a=0;a<12;a++)t.push({value:this.timeType?0==a?12:a:a+12==12?0:a+12,alias:this.timeType?0==a&&"12":0==a&&"凌晨",left:o+e*Math.cos(a*(2*Math.PI)/12-Math.PI/2)-s/2,top:i+e*Math.sin(a*(2*Math.PI)/12-Math.PI/2)-s/2});return t},pickerHoursComputed:{get:function(){var t=this.timePicker_time.h;void 0!=t&&t<12&&(this.timeType=!0),void 0!=t&&t>12&&(this.timeType=!1);var e=+t/12*360-90;return{h:t,radius:e}},set:function(t){this.timePicker_time.h=t}},dateTimeHMS:function(){var t=new Date(this.dataPicker_date);return{h:t.format("hh"),m:t.format("mm"),s:t.format("ss")}},navCoodsComp:function(){return void 0==this.navCoods.row||""==this.navCoods.row?{row:"",col:""}:{row:this.navCoods.row._rowid,col:this.navCoods.col._colid}},sheetLineActived:function(){return this.operate_show?this.operate_info._rowid:this.navCoods.row?this.navCoods.row._rowid:-1}},created:function(){},watch:{},mounted:function(){this.fixedWidthHeight(),window.addEventListener("resize",this.fixWindowResize),document.addEventListener("click",this.hideOption),document.addEventListener("keydown",this.keydown),this.init()},methods:{print:function(t){window.console.log(t)},logFn:function(t){this.startLog&&this.log.push(t)},init:function(){this.logFn("init"),this.row=this.deepClone(this.rowData),this.col=this.deepClone(this.colData),this.colRel=this.deepClone(this.colRelation);for(var t=0,e=0,o=0;o<this.row.length;o++)void 0==this.row[o]._rowid&&(this.row[o]._rowid=t,t++),this.row[o]._error=void 0!=this.row[o]._error&&this.row[o]._error,this.row[o]._modify=void 0!=this.row[o]._modify&&this.row[o]._modify;for(var i=0;i<this.col.length;i++)if(void 0==this.col[i]._colid&&(this.col[i]._colid="level-1-"+e,e++),void 0==this.col[i]._sort&&(this.col[i]._sort=""),void 0==this.col[i].width&&(this.col[i].width=90),"number"!=typeof this.col[i].width)return void console.error(this.col[i].title+"的width必须是number类型！");for(var s=0;s<this.col.length;s++){var a=0;this.showCheckBoxAndIndex&&(a=40),this.showOperate&&(a+=40),this.showStatus&&(a+=+this.statusWidth);for(var n=0;n<s;n++)this.col[n].hide||(a+=this.col[n].width);this.col[s]._left=a,this.col[s]._top=(this.colRelMaxLevel-1)*this.cellHeight}this.fixLastCol(this.col),/Android|webOS|iPhone|iPod|BlackBerry/i.test(window.navigator.userAgent)?this.isPC=!1:this.isPC=!0,Date.prototype.format=function(t){if("Invalid Date"==this.toString())return"";var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[o]:("00"+e[o]).substr((""+e[o]).length)));return t}},fixedWidthHeight:function(){this.logFn("fixedWidthHeight");var t=this.$refs.wrap;t instanceof Array&&(t=t[0]),this.width=t.offsetWidth,this.height=t.offsetHeight,this.fixLastCol(this.col)},fixLastCol:function(t){if(this.logFn("fixLastCol"),t&&0!=t.length){for(var e=this.jsonClone(t),o=0,i=0;i<e.length;i++)e[i].hide||i==e.length-1||(o+=e[i].width);this.showCheckBoxAndIndex&&(o+=40),this.showOperate&&(o+=40),this.showStatus&&(o+=+this.statusWidth);var s=e[e.length-1].title.length,a=e[e.length-1].width||0;o<this.width?e[e.length-1].width=Math.max(this.width-o,30+16*s,100,a):e[e.length-1].width=Math.max(30+16*s,100,a),this.col=e}},placeholder_date:function(t){return this.logFn("placeholder_date"),"date"==t?"yyyy-MM-dd":"time"==t?"hh:mm:ss":"datetime"==t?"yyyy-MM-dd hh:mm:ss":"month"==t?"输入月份":"year"==t?"输入年份":void 0},checkBox:function(t){this.logFn("checkBox");for(var e=0;e<this.row.length;e++)if(this.row[e]._rowid==t._rowid)return this.row[e].checked=!this.row[e].checked,void this.$forceUpdate()},scrollMouseDown:function(t,e){this.logFn("scrollMouseDown"),t.preventDefault(),this.option_show=!1,this.dataPicker_show=!1,this.timePicker_show=!1,this.operate_show=!1;var o,i,s,a,n=this;if("x"==e)o=this.scrollLeft,i=t.clientX;else{if("y"!=e)return console.warn("请传入参数type"),!1;s=this.scrollTop,a=t.clientY}function r(t){var r=n.height-n.colRelMaxLevel*n.cellHeight;if("x"==e){var c=o+(t.clientX-i);c<0&&(c=0);var l=n.width*n.width/n.fullWidth;c+l>n.width&&(c=n.width-l),n.scrollLeft=c}else{var h=s+(t.clientY-a);h<0&&(h=0);var d=r*r/n.fullHeight;h+d>r&&(h=r-d),n.scrollTop=h}}function c(t){window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",c)}window.addEventListener("mousemove",r),window.addEventListener("mouseup",c)},mousewheel:function(t){this.logFn("mousewheel"),this.option_show=!1,this.dataPicker_show=!1,this.timePicker_show=!1,this.operate_show=!1;var e=this.height-this.colRelMaxLevel*this.cellHeight;if(!(e*e/this.fullHeight>=this.height-this.cellHeight*this.colRelMaxLevel)){var o=e-e*e/this.fullHeight,i=this.scrollTop,s=this.scrollSpeed*(e/this.fullHeight)*this.cellHeight;t.wheelDelta?(t.wheelDelta>0&&(i>0&&t.preventDefault(),i-=s),t.wheelDelta<0&&(i<o&&t.preventDefault(),i+=s)):t.detail&&(t.detail>0&&(i>0&&t.preventDefault(),i-=s),t.detail<0&&(i<o&&t.preventDefault(),i+=s)),i<0&&(i=0),i>o&&(i=o),this.scrollTop=i}},touchstart:function(t){this.logFn("touchstart"),this._optionCanShowDisX=0,this._optionCanShowDisY=0,t.preventDefault();var e=this.$refs.container,o=t.touches[0];this._geScrollLeftArea=this.geScrollLeftArea,this._geScrollTopArea=this.geScrollTopArea,this._startx=Math.floor(o.pageX),this._starty=Math.floor(o.pageY),e.addEventListener("touchmove",this.touchmove),e.addEventListener("touchend",this.touchend)},touchmove:function(t){this.logFn("touchmove"),t.preventDefault();var e=Math.floor(t.changedTouches[0].pageX),o=Math.floor(t.changedTouches[0].pageY),i=e-this._startx,s=o-this._starty,a=180*Math.atan2(s,i)/Math.PI,n=0,r=0;if(Math.abs(i)<=1||Math.abs(s)<=1)return this._optionCanShowDisX=0,this._optionCanShowDisY=0,!1;a<45&&a>=-45?(r=this._geScrollLeftArea-Math.abs(i),r<0&&(r=0),this.geScrollLeftArea=r,this._optionCanShowDisX=Math.abs(i),this._optionCanShowDisY=Math.abs(0)):a<135&&a>=45?(n=this._geScrollTopArea-Math.abs(s),n<0&&(n=0),this.geScrollTopArea=n,this._optionCanShowDisX=Math.abs(0),this._optionCanShowDisY=Math.abs(s)):a<=180&&a>=135||a>=-180&&a<-135?(r=this._geScrollLeftArea+Math.abs(i),r>this.fullWidth-this.width&&(r=this.fullWidth-this.width),this.geScrollLeftArea=r,this._optionCanShowDisX=Math.abs(i),this._optionCanShowDisY=Math.abs(0)):a<=-45&&a>=-135&&(n=this._geScrollTopArea+Math.abs(s),n>this.fullHeight-(this.height-this.colRelMaxLevel*this.cellHeight)&&(n=this.fullHeight-(this.height-this.colRelMaxLevel*this.cellHeight)),this.geScrollTopArea=n,this._optionCanShowDisX=Math.abs(0),this._optionCanShowDisY=Math.abs(s))},touchend:function(t){this.logFn("touchend"),t.preventDefault();var e=this.$refs.container;e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchup",this.touchup)},inpTouchEnd:function(t,e){if(this.logFn("inpTouchEnd"),!(this._optionCanShowDisX>15||this._optionCanShowDisY>15)){var o=this.$refs["inp-"+t+"-"+e];void 0!=o&&null!=o&&(o instanceof Array&&(o=o[0]),o.focus())}},operateFn:function(t){var e=this;this.logFn("operateFn");var o=this.operate_info,i=this.jsonClone(this.getTable().row),s=this;switch(t){case"add":if(0==this.entry||"{}"==JSON.stringify(this.entry))return!1;for(var a=0;a<i.length;a++)if(i[a]._rowid==o._rowid){var r=this.deepClone(this.entry);r.checked=!1,r._error=!1,r._modify=!0,r._add=!0,r._rowid=Date.now();for(var c=Object.entries(r),l=0;l<c.length;l++){var h=Object(n["a"])(c[l],2),d=h[0],p=h[1];"function"==typeof p.value&&(r[d].value=p.value()),"function"==typeof p.id&&(r[d].id=p.id())}i.splice(a+1,0,r);break}this.row=i;break;case"remove":this.operate_show=!1,this.$set(this.operate_loading,"loading"+o._rowid,!0),this.$set(this.operate_loading,"loading-type-"+o._rowid,"remove");var u=function(){i=this.jsonClone(this.getTable().row);for(var t=0;t<i.length;t++)if(i[t]._rowid==o._rowid){i.splice(t,1);break}this.row=i,this.$set(this.operate_loading,"loading"+o._rowid,!1)},f=function(){this.$set(this.operate_loading,"loading"+o._rowid,!1)};return void this.$emit("removeLine",{data:o,success:u.bind(this),faild:f.bind(this)});case"up":for(var w=0;w<i.length;w++)if(i[w]._rowid==o._rowid){if(0==w)return;var _=this.jsonClone(o);i.splice(w,1),i.splice(w-1,0,_);break}this.row=i;break;case"down":for(var v=0;v<i.length;v++)if(i[v]._rowid==o._rowid){if(v==i.length-1)return;var m=this.jsonClone(i[v+1]);i.splice(v+1,1),i.splice(v,0,m);break}this.row=i;break;case"save":this.operate_show=!1;for(var g=function(t){for(var e=0;e<s.col.length;e++)if(s.col[e].props==t)return s.col[e].title},k=0;k<this.row.length;k++)if(o._rowid==this.row[k]._rowid){for(var C=Object.entries(this.row[k]),y=0;y<C.length;y++){var P=Object(n["a"])(C[y],2),x=(d=P[0],P[1]);if(1==x.required)if("number"==x.type){if(isNaN(x.value)){var b=g(d);return this.row[k]._error=!0,void this.$emit("saveLine",{status:"checkFail",msg:"第"+(1*k+1)+"行，"+b+"列 不能为空！"})}}else if(""==(x.value+"").trim()){var A=g(d);return this.row[k]._error=!0,void this.$emit("saveLine",{status:"checkFail",msg:"第"+(1*k+1)+"行，"+A+"列 不能为空！"})}}break}this.$set(this.operate_loading,"loading"+o._rowid,!0),this.$set(this.operate_loading,"loading-type-"+o._rowid,"save");var S=function(){this.$set(this.operate_loading,"loading"+o._rowid,!1)};return void this.$emit("saveLine",{status:"checkSuccess",data:o,complate:S.bind(this)})}this.$nextTick(function(){setTimeout(function(){e.operateShowFn(o,!0)},166)})},operateShowFn:function(t,e){this.logFn("operateShowFn");var o=this.$refs["operate-"+t._rowid];o instanceof Array&&(o=o[0]),this.dataPicker_show=!1,this.timePicker_show=!1,this.option_show=!1,this.hover_show=!1;var i=o.getBoundingClientRect(),s=this.$refs.container.getBoundingClientRect(),a=i.left-s.left-5;this.operate_left=a;var n=i.top-s.top+i.height+4,r=document.documentElement.clientHeight||document.body.clientHeight,c=184,l=+n+ +s.top+c;l>r?(n-=l-r,this.option_hide_arrow=!0):this.option_hide_arrow=!1,this.operate_top=n,this.operate_info=t,this.operate_show=void 0!=e?e:!this.operate_show},modifyByRowCol:function(t,e,o,i){this.logFn("modifyByRowCol");for(var s=0;s<this.row.length;s++)if(this.row[s]._rowid==t){if(this.row[s][e].value=o,void 0!=i){this.row[s][e].id=i;for(var a=null,n=0;n<this.col.length;n++)if(this.col[n].props==e){a=this.col[n];break}if("close"==this.selectFullData)return void this.$emit("selectChange",{value:o,id:i,rowid:t,col:a,close:!0});this.selectFullData?this.$emit("selectChange",{value:o,id:i,rowid:t,col:a,clickData:this.selectFullData}):this.$emit("selectChange",{value:o,id:i,rowid:t,col:a})}return this.row[s]._modify=!0,void(this.row[s]._error=!1)}},checkNumber:function(t,e,o){this.logFn("checkNumber"),o*=1,void 0!=t[e.props].min&&o<t[e.props].min&&(o=t[e.props].min),void 0!=t[e.props].max&&o>t[e.props].max&&(o=t[e.props].max),void 0!=t[e.props].floatLength&&(o=(1*o).toFixed(t[e.props].floatLength)),this.selectFullData=null,this.modifyByRowCol(t._rowid,e.props,o)},checkDate:function(t,e,o,i){this.logFn("checkDate");var s=/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/,a=/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/,n=/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])\s+(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/,r=/^(1849|18[5-9]\d|20\d{2}|2200)$/,c=/^0?[1-9]$|^1[0-2]$/;if(this.selectFullData=null,""!=(o+"").trim()){if("date"==i){var l=new RegExp(s);if(!l.test(o))return void this.modifyByRowCol(t._rowid,e.props,"")}if("time"==i){var h=new RegExp(a);if(!h.test(o))return void this.modifyByRowCol(t._rowid,e.props,"")}if("datetime"==i){var d=new RegExp(n);if(!d.test(o))return void this.modifyByRowCol(t._rowid,e.props,"")}if("month"==i){var p=new RegExp(c);if(!p.test(o))return void this.modifyByRowCol(t._rowid,e.props,"")}if("year"==i){var u=new RegExp(r);if(!u.test(o))return void this.modifyByRowCol(t._rowid,e.props,"")}this.modifyByRowCol(t._rowid,e.props,o)}else this.modifyByRowCol(t._rowid,e.props,"")},selectClose:function(t,e,o){this.logFn("selectClose"),this.selectFullData="close","mul_select"==o||"opt_mul_select"==o?this.modifyByRowCol(t._rowid,e.props,[],[]):"select"==o||"opt_select"==o?this.modifyByRowCol(t._rowid,e.props,"",""):"date"!=o&&"time"!=o&&"datetime"!=o||this.modifyByRowCol(t._rowid,e.props,""),this.hideOption()},searchFocus:function(t,e,o){var i=this;this.logFn("searchFocus");var s=this.$refs["cell-"+t._rowid+"-"+e._colid];s instanceof Array&&(s=s[0]),this.option_show=!1,this.dataPicker_show=!1,this.hover_show=!1,this.timePicker_show=!1,this.operate_show=!1,s.querySelector("input").select();var a=s.getBoundingClientRect(),n=this.$refs.container.getBoundingClientRect();this.option_info={row:t,col:e},this.option_width=Math.min(Math.max(a.width,166),400);var r=a.left-n.left-5;n.width<r+this.option_width&&(r=n.width-this.option_width-5),this.option_left=r;var c=a.top-n.top+a.height+4,l=document.documentElement.clientHeight||document.body.clientHeight,h=226,d=+c+ +n.top+h;d>l?(c-=d-l,this.option_hide_arrow=!0):this.option_hide_arrow=!1,this.option_top=c,this.option_show=!0,this.option_loading=!0,this._wheelStop=function(t){t.stopPropagation()},this.$refs.optionDOM.removeEventListener("DOMMouseScroll",this._wheelStop),this.$refs.optionDOM.addEventListener("DOMMouseScroll",this._wheelStop),this.option_current_page=1,this.$nextTick(function(){var s=t[e.props].dataPos||"data.result";s=s.split(".");var a=t[e.props].dataTotal||"data.total";a=a.split("."),i.option_search="",i.searchRemote(t[e.props]).then(function(n){for(var r=i.jsonClone(n.data),c=0;c<s.length;c++)r=r[s[c]];for(var l=i.jsonClone(n.data),h=l,d=0;d<a.length;d++)h=h[a[d]];if(i.option_total_number=h,i.option_loading=!1,i.cellOver(t,e,!0),o){for(var p=0;p<r.length;p++)for(var u=0;u<t[e.props].id.length;u++)if(r[p].id+""==t[e.props].id[u]+""){r[p].select=!0;break}}else for(var f=0;f<r.length;f++)if(r[f].id+""==t[e.props].id+""){r[f].select=!0;break}i.option_data=r}).catch(function(t){i.option_loading=!1,i.option_data=[],console.error(t)})})},opt_searchFocus:function(t,e,o){var i=this;this.logFn("opt_searchFocus");var s=this.$refs["cell-"+t._rowid+"-"+e._colid];this.option_show=!1,this.dataPicker_show=!1,this.hover_show=!1,this.timePicker_show=!1,this.operate_show=!1,s instanceof Array&&(s=s[0]),s.querySelector("input").select();var a=s.getBoundingClientRect(),n=this.$refs.container.getBoundingClientRect();this.option_info={row:t,col:e},this.option_left=a.left-n.left-5;var r=a.top-n.top+a.height+4,c=document.documentElement.clientHeight||document.body.clientHeight,l=172,h=+r+ +n.top+l;h>c?(r-=h-c,this.option_hide_arrow=!0):this.option_hide_arrow=!1,this.option_top=r,this.option_width=Math.min(Math.max(a.width,166),400),this.option_loading=!1,this.option_show=!0,this._wheelStop=function(t){t.stopPropagation()},this.$refs.optionDOM.removeEventListener("DOMMouseScroll",this._wheelStop),this.$refs.optionDOM.addEventListener("DOMMouseScroll",this._wheelStop),this.option_current_page=1,this.$nextTick(function(){i.option_search="";var s=i.jsonClone(t[e.props].option),a=s;if(i.option_total_number=a.length,i.option_loading=!1,i.cellOver(t,e,!0),o){for(var n=0;n<s.length;n++)for(var r=0;r<t[e.props].id.length;r++)if(s[n].id+""==t[e.props].id[r]+""){s[n].select=!0;break}}else for(var c=0;c<s.length;c++)if(s[c].id+""==t[e.props].id+""){s[c].select=!0;break}i.option_data=s})},dataPickerFocus:function(t,e){this.logFn("dataPickerFocus");var o=this.$refs["cell-"+t._rowid+"-"+e._colid];o instanceof Array&&(o=o[0]),this.option_show=!1,this.dataPicker_show=!1,this.hover_show=!1,this.timePicker_show=!1,this.operate_show=!1,o.querySelector("input").select();var i=o.getBoundingClientRect(),s=this.$refs.container.getBoundingClientRect();this.dataPicker_info={row:t,col:e},"datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type?this.dataPicker_date=t[e.props].value||(new Date).format("yyyy-MM-dd hh:mm:ss"):this.dataPicker_date=t[e.props].value||(new Date).format("yyyy-MM-dd");var a=i.left-s.left-5;s.width<a+220&&(a=s.width-220-5),this.dataPicker_left=a;var n=i.top-s.top+i.height+4,r=document.documentElement.clientHeight||document.body.clientHeight,c=0;c="datetime"==t[e.props].type?346:314;var l=+n+ +s.top+c;l>r?(n-=l-r,this.option_hide_arrow=!0):this.option_hide_arrow=!1,this.dataPicker_top=n,this.dataPicker_width=220,this.dataPicker_show=!0},datapickerClick:function(t){if(this.logFn("datapickerClick"),this.selectFullData=null,"datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type){if(null==t)return this.dataPicker_date=(new Date).format("yyyy-MM-dd hh:mm:ss"),this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,this.dataPicker_date),this.$emit("dateChange",{value:this.dataPicker_date,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),void(this.dataPicker_show=!1);if("clear"==t)return t="",this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,t),this.$emit("dateChange",{value:t,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),void(this.dataPicker_show=!1);if("confirm"==t)return this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,this.dataPicker_date),this.$emit("dateChange",{value:this.dataPicker_date,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),void(this.dataPicker_show=!1);this.dataPicker_date=t+" "+new Date(this.dataPicker_date).format("hh:mm:ss")}else t||(t=(new Date).format("yyyy-MM-dd")),"clear"==t&&(t=""),this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,t),this.$emit("dateChange",{value:t,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),this.dataPicker_show=!1},dateYear:function(t){this.logFn("dateYear");var e=this.dataPicker_date.split("-"),o=+e[0]+t;this.dataPicker_date=[o,e[1],e[2]].join("-")},dateMonth:function(t){if(this.logFn("dateMonth"),"datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type){var e=new Date(this.dataPicker_date).format("yyyy"),o=new Date(this.dataPicker_date).format("MM"),i=new Date(this.dataPicker_date).format("dd"),s=new Date(this.dataPicker_date).format("hh"),a=new Date(this.dataPicker_date).format("mm"),n=new Date(this.dataPicker_date).format("ss");o=+o+t,o<1&&(o=12,e-=1),o>12&&(o=1,e=+e+1),o<10&&(o="0"+o);var r="".concat(e,"-").concat(o,"-").concat(i," ").concat(s,":").concat(a,":").concat(n);this.dataPicker_date=new Date(r).format("yyyy-MM-dd hh:mm:ss")}else{var c=this.dataPicker_date.split("-"),l=+c[0],h=+c[1],d=+c[2],p=h+t;0==p&&(p=12,l-=1),13==p&&(p=1,l+=1),p<10&&(p="0"+p),d<10&&(d="0"+d),this.dataPicker_date=[l,p,d].join("-")}},dateTimeHMSFn:function(t,e){this.logFn("dateTimeHMSFn");var o=+t.target.value,i=new Date(this.dataPicker_date),s=i.format("yyyy"),a=i.format("MM"),n=i.format("dd"),r=i.format("hh"),c=i.format("mm"),l=i.format("ss");"h"==e&&(r=o,r>=24&&(r=0),r<0&&(r=23)),"m"==e&&(c=o,c>=60&&(c=0),c<0&&(c=59)),"s"==e&&(l=o,l>=60&&(l=0),l<0&&(l=59)),r<10&&(r="0"+ +r),c<10&&(c="0"+ +c),l<10&&(l="0"+ +l),this.dataPicker_date="".concat(s,"-").concat(a,"-").concat(n," ").concat(r,":").concat(c,":").concat(l)},timePickerFocus:function(t,e){this.logFn("timePickerFocus");var o=this.$refs["cell-"+t._rowid+"-"+e._colid];o instanceof Array&&(o=o[0]),this.option_show=!1,this.dataPicker_show=!1,this.hover_show=!1,this.timePicker_show=!1,this.operate_show=!1,o.querySelector("input").select();var i=o.getBoundingClientRect(),s=this.$refs.container.getBoundingClientRect(),a=t[e.props].value;a||(a=(new Date).format("hh:mm:ss")),this.timePicker_time={time:a,h:a.split(":")[0],m:a.split(":")[1],s:a.split(":")[2],row:t,col:e};var n=i.left-s.left-5;s.width<n+240&&(n=s.width-240-5),this.timePicker_left=n;var r=i.top-s.top+i.height+4,c=document.documentElement.clientHeight||document.body.clientHeight,l=344,h=+r+ +s.top+l;if(h>c?(r-=h-c,this.option_hide_arrow=!0):this.option_hide_arrow=!1,this.timePicker_top=r,this.timePicker_width=240,this.timePicker_show=!0,0==this.timeMinute.length){for(var d=[],p=96,u=110,f=110,w=5,_=24,v=0;v<60/w;v++)d.push({value:v*w,left:u+p*Math.cos(v*w*(2*Math.PI)/60-Math.PI/2)-_/2,top:f+p*Math.sin(v*w*(2*Math.PI)/60-Math.PI/2)-_/2});this.timeMinute=d}},timePickerFn:function(t,e,o){if(this.logFn("timePickerFn"),"h"==t){var i=+this.timePickerComputed.h+e;void 0!=o&&(i=o),i<0?i=23:i>23&&(i=0),this.timePickerComputed=Object(r["a"])({},this.timePickerComputed,{h:n(i)})}if("m"==t){var s=+this.timePickerComputed.m+e;s<0?s=59:s>59&&(s=0),void 0!=o&&(s=o),this.timePickerComputed=Object(r["a"])({},this.timePickerComputed,{m:n(s)})}if("s"==t){var a=+this.timePickerComputed.s+e;a<0?a=59:a>59&&(a=0),void 0!=o&&(a=o),this.timePickerComputed=Object(r["a"])({},this.timePickerComputed,{s:n(a)})}function n(t){return+t<10&&(t="0"+ +t),t}},timePickerBtnNow:function(){this.logFn("timePickerBtnNow");var t=(new Date).format("hh:mm:ss");this.timePicker_time.h=t.split(":")[0],this.timePicker_time.m=t.split(":")[1],this.timePicker_time.s=t.split(":")[2],this.timePickerBtn()},timePickerBtn:function(t){this.logFn("timePickerBtn");var e=o(this.timePicker_time.h)+":"+o(this.timePicker_time.m)+":"+o(this.timePicker_time.s);function o(t){return+t<10&&(t="0"+ +t),t}"clear"==t&&(e=""),this.selectFullData=null,this.modifyByRowCol(this.timePicker_time.row._rowid,this.timePicker_time.col.props,e),this.$emit("dateChange",{value:e,rowid:this.timePicker_time.row._rowid,col:this.timePicker_time.col}),this.timePicker_show=!1},timeTypeChange:function(){this.logFn("timeTypeChange"),this.timeType=!this.timeType;var t=+this.timePicker_time.h;this.timeType?t>12&&(t-=12):t<12&&(t+=12),t<10&&(t="0"+t),this.timePicker_time.h=t},searchInput:function(t){var e=this;this.logFn("searchInput");var o=this.option_info.row,i=this.option_info.col,s=!1;"mul_select"==o[i.props].type&&(s=!0),this.searchTimer&&clearTimeout(this.searchTimer),this.option_search=t.target.value,this.option_current_page=1,this.searchTimer=setTimeout(function(){var t=o[i.props].dataPos||"data.result";t=t.split(".");var a=o[i.props].dataTotal||"data.total";a=a.split("."),e.searchRemote(o[i.props]).then(function(n){for(var r=n.data,c=0;c<t.length;c++)r=r[t[c]];for(var l=e.jsonClone(n.data),h=l,d=0;d<a.length;d++)h=h[a[d]];if(e.option_total_number=h,s)for(var p=0;p<r.length;p++)for(var u=0;u<o[i.props].id.length;u++)r[p].id==o[i.props].id[u]&&(r[p].select=!0);else for(var f=0;f<r.length;f++)if(r[f].id==o[i.props].id){r[f].select=!0;break}e.option_loading=!1,e.option_data=r}).catch(function(t){e.option_loading=!1,e.option_data=[],console.error(t)})},this.searchDelayTime)},searchByPage:function(t){var e=this;this.logFn("searchByPage");var o=this.option_info.row,i=this.option_info.col,s=!1;"mul_select"==o[i.props].type&&(s=!0);var a=o[i.props].dataPos||"data.result";a=a.split(".");var n=o[i.props].dataTotal||"data.total";n=n.split(".");var r=this.option_current_page;r+t>this.option_total_page||r+t<=0||(this.option_current_page+=t,this.searchRemote(o[i.props]).then(function(t){for(var r=t.data,c=0;c<a.length;c++)r=r[a[c]];for(var l=e.jsonClone(t.data),h=l,d=0;d<n.length;d++)h=h[n[d]];if(e.option_total_number=h,s)for(var p=0;p<r.length;p++)for(var u=0;u<o[i.props].id.length;u++)r[p].id==o[i.props].id[u]&&(r[p].select=!0);else for(var f=0;f<r.length;f++)if(r[f].id==o[i.props].id){r[f].select=!0;break}e.option_loading=!1,e.option_data=r}).catch(function(t){e.option_loading=!1,e.option_data=[],console.error(t)}))},optionItemClick:function(t){var e=this;this.logFn("optionItemClick"),this.selectFullData=t;var o=this.option_info.row[this.option_info.col.props].type;if("mul_select"==o||"opt_mul_select"==o){for(var i=this.jsonClone(this.option_info.row[this.option_info.col.props].id),s=this.jsonClone(this.option_info.row[this.option_info.col.props].value),a=this.jsonClone(this.option_data).map(function(t){return t.select=!1,t}),n=!1,r=0;r<i.length;r++)if(i[r]==t.id){i.splice(r,1),n=!0;break}n||i.push(t.id);for(var c=!1,l=0;l<s.length;l++)if(s[l]==t.name){s.splice(l,1),c=!0;break}c||s.push(t.name);for(var h=0;h<a.length;h++)for(var d=0;d<i.length;d++)a[h].id==i[d]&&(a[h].select=!0);this.option_data=a,this.$nextTick(function(){e.modifyByRowCol(e.option_info.row._rowid,e.option_info.col.props,s,i)})}else this.modifyByRowCol(this.option_info.row._rowid,this.option_info.col.props,t.name,t.id),this.option_show=!1},searchRemote:function(t){if(this.logFn("searchRemote"),!t.url)return Promise.reject("缺失url！");var e={};this.showOptionPage?(e[this.optionQueryAlias.limit]=this.option_limit,e[this.optionQueryAlias.offset]=(this.option_current_page-1)*this.option_limit,e[this.optionQueryAlias.q]=this.option_search):e[this.optionQueryAlias.q]=this.option_search;var o=this.addUrlQuery(t.url,e);return this.$http.get(o)},hideOption:function(){this.logFn("hideOption"),this.hover_show=!1,this.option_show=!1,this.dataPicker_show=!1,this.timePicker_show=!1,this.operate_show=!1},addLine:function(){var t=this;if(this.logFn("addLine"),0!=this.entry&&"{}"!=JSON.stringify(this.entry)){var e=this.deepClone(this.entry);e.checked=!1,e._error=!1,e._modify=!0,e._add=!0,e._rowid=Date.now();for(var o=Object.entries(e),i=0;i<o.length;i++){var s=Object(n["a"])(o[i],2),a=s[0],r=s[1];"function"==typeof r.value&&(e[a].value=r.value()),"function"==typeof r.id&&(e[a].id=r.id())}this.row.push(e),this.$nextTick(function(){t.geScrollTopArea=Math.max(t.fullHeight-(t.height-t.colRelMaxLevel*t.cellHeight),0)})}},doLayout:function(){this.logFn("doLayout"),this.fixedWidthHeight(),this.scrollLeft=0},fixWindowResize:function(){this.logFn("fixWindowResize"),this.fixedWidthHeight(),this.scrollLeft=0},doReset:function(t){var e=this;this.logFn("doReset"),this.reset=Date.now(),t&&(this.scrollTop=0,this.scrollLeft=0),this.$nextTick(function(){e.init()})},getTable:function(){return this.logFn("getTable"),{row:this.row,col:this.col,modifyAndNew:this.row.filter(function(t){return t._modify}),onlyModify:this.row.filter(function(t){return t._modify&&!t._add}),onlyNew:this.row.filter(function(t){return t._add})}},checkedRows:function(){return this.logFn("checkedRows"),{allChecked:this.row.filter(function(t){return t.checked}),realChecked:this.row.filter(function(t){return t.checked&&!t.noCheckAble}),info:{description:"1、allChecked：所有被选中的行（包括禁用但默认选中的行）。2、realChecked：所有被选中的行（排除掉禁用但默认选中的行）"}}},cellOver:function(t,e,o){var i=this;if(this.logFn("cellOver"),!o){if(this.option_show)return;this.hover_show=!1}var s=t[e.props].value;if(""!=(s+"").trim()){var a=this.$refs.textLengtn;if(a.innerText=s,1*a.offsetWidth+20<e.width&&"mul_select"!=t[e.props].type)this.hover_show=!1;else{var n=this.$refs["cell-"+t._rowid+"-"+e._colid],r=this.$refs["container"];n instanceof Array&&(n=n[0]),this.hover_info={props:e.props,rowid:t._rowid,type:t[e.props].type,value:t[e.props].value};var c=n.getBoundingClientRect(),l=r.getBoundingClientRect(),h=0;h="mul_select"==t[e.props].type?Math.max(e.width,214):Math.max(e.width,134);var d=h-e.width;this.hover_width=h,this.hover_left=c.left-l.left-d/2,this.hover_bottom=this.height-(c.top-l.top)+16,this.$nextTick(function(){i.hover_show=!0})}}else this.hover_show=!1},cellOut:function(t,e){this.logFn("cellOut"),this.option_show||(this.hover_show=!1)},checkRequired:function(){this.logFn("checkRequired");for(var t=this,e=0;e<this.row.length;e++)for(var o=Object.entries(this.row[e]),i=0;i<o.length;i++){var s=Object(n["a"])(o[i],2),a=s[0],r=s[1];if(1==r.required)if("number"==r.type){if(isNaN(r.value)){for(var c=p(a),l=0;l<t.col.length;l++)if(t.col[l].props==a){this.goColCenter(t.col[l]),this.navCoods={row:this.row[e],col:t.col[l]};break}return this.row[e]._error=!0,this.goLineCenter(e),this.$forceUpdate(),"第"+(1*e+1)+"行，"+c+"列 不能为空！"}}else if(""==(r.value+"").trim()){for(var h=p(a),d=0;d<t.col.length;d++)if(t.col[d].props==a){this.goColCenter(t.col[d]),this.navCoods={row:this.row[e],col:t.col[d]};break}return this.row[e]._error=!0,this.goLineCenter(e),this.$forceUpdate(),"第"+(1*e+1)+"行，"+h+"列 不能为空！"}}return!0;function p(e){for(var o=0;o<t.col.length;o++)if(t.col[o].props==e)return t.col[o].title}},goLineCenter:function(t){this.logFn("goLineCenter");var e=Math.floor((this.height-this.colRelMaxLevel*this.cellHeight)/this.cellHeight/2);this.geScrollTopArea=Math.max(0,Math.min((t-e)*this.cellHeight,this.fullHeight-this.height+this.colRelMaxLevel*this.cellHeight))},goColCenter:function(t){this.logFn("goColCenter");var e=t._left-(this.width-t.width)/2;e<0&&(e=0),e>this.fullWidth-this.width&&(e=this.fullWidth-this.width),this.geScrollLeftArea=e},keydown:function(t){switch(9==t.keyCode&&(t.preventDefault(),this.cellNav("right")),t.keyCode){case 38:this.cellNav("up",t);break;case 40:this.cellNav("down",t);break;case 37:this.cellNav("left");break;case 39:this.cellNav("right");break}},highlight:function(t,e){this.navCoods={row:t,col:e}},cellNav:function(t,e){var o=this;if(this.navCoods.row){var i=this,s=this.navCoods.row,a=this.navCoods.col,n=(this.geScrollLeftArea,this.geScrollTopArea,!1),r=!1;this.hideOption();for(var c=null,l=null,h=0;h<i.col.length;h++)"normal"!=i.col[h].type&&1!=i.col[h].hide&&(null==c&&(c=i.col[h]),l=i.col[h]);var d={},p=null;if("up"==t){n=!0;for(var u=0,f=0;f<i.row.length;f++)if(s._rowid==i.row[f]._rowid){if(void 0==i.row[f-1])return;u=f-1,i.navCoods={row:i.row[f-1],col:a};break}0!=u&&e.preventDefault(),this.goLineCenter(u)}if("down"==t){n=!0;for(var w=0,_=0;_<i.row.length;_++)if(s._rowid==i.row[_]._rowid){if(void 0==i.row[_+1])return;w=_+1,i.navCoods={row:i.row[_+1],col:a};break}w!=i.row.length-1&&e.preventDefault(),this.goLineCenter(w)}if("left"==t){r=!0;a.width;for(var v=0;v<i.col.length;v++)if(a._colid==i.col[v]._colid){var m=1;while(123){if(void 0==i.col[v-m])break;if(1!=i.col[v-m].hide){if(i.col[v-m].width,"normal"!=s[i.col[v-m].props].type)break;m++}else m++}d=i.col[v-m],void 0==d&&(d=l),d.width,i.navCoods={row:s,col:d};break}this.goColCenter(d)}if("right"==t){r=!0;a.width;for(var g=0;g<i.col.length;g++)if(a._colid==i.col[g]._colid){var k=1;while(123){if(void 0==i.col[g+k])break;if(1!=i.col[g+k].hide){if(i.col[g+k].width,"normal"!=s[i.col[g+k].props].type)break;k++}else k++}d=i.col[g+k],void 0==d&&(d=c),d.width,i.navCoods={row:s,col:d};break}this.goColCenter(d)}this.$nextTick(function(){if(1!=r||(p=i.$refs["inp-"+s._rowid+"-"+d._colid],p instanceof Array&&(p=p[0]),"normal"!=s[d.props].type)){1==n&&(p=i.$refs["inp-"+i.navCoods.row._rowid+"-"+i.navCoods.col._colid],p instanceof Array&&(p=p[0]));var t=p.getBoundingClientRect(),e=o.$refs.container.getBoundingClientRect();o.option_width=Math.min(Math.max(t.width,166),400);var a=t.left-e.left-5;e.width<a+o.option_width&&(a=e.width-o.option_width-5),o.option_left=a,o.option_top=t.top-e.top+t.height+8,a=t.left-e.left-5,e.width<a+220&&(a=e.width-220-5),o.dataPicker_left=a,o.dataPicker_top=t.top-e.top+t.height+8,o.dataPicker_width=220,a=t.left-e.left-5,e.width<a+240&&(a=e.width-240-5),o.timePicker_left=a,o.timePicker_top=t.top-e.top+t.height+8,o.timePicker_width=240,p.focus()}})}},exportXLS:function(t,e){for(var o="<tr>",i=0;i<t.length;i++)o+="<td>"+t[i]+"</td>";o+="</tr>";for(var s=[],a=0;a<e.length;a++){for(var n="<tr>",r=0;r<e[a].length;r++)n+="<td>"+e[a][r]+"</td>";n+="</tr>",s.push(n)}var c=["<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:excel' xmlns='http://www.w3.org/TR/REC-html40'>","<meta http-equiv='content-type' content='application/vnd.ms-excel; charset=UTF-8'>","<head>","\x3c!--[if gte mso 9]>","<xml>","<x:ExcelWorkbook>","<x:ExcelWorksheets>","<x:ExcelWorksheet>","<x:Name>","xlsWorksheetName","</x:Name>","<x:WorksheetOptions>","<x:DisplayGridlines/>","</x:WorksheetOptions>","</x:ExcelWorksheet>","</x:ExcelWorksheets>","</x:ExcelWorkbook>","</xml>","<![endif]--\x3e","</head>","<body>","<table><thead>",o,"</thead><tbody>"].concat(s,["</tbody></table>","</body>","</html>"]),l=new Blob(c,{type:"application/vnd.ms-xls"});function h(t,e){var o=t.type,i="application/octet-stream";if(o&&o!=i){var s=t.slice||t.webkitSlice||t.mozSlice;t=s.call(t,0,t.size,i)}var a=window.URL.createObjectURL(t),n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.href=a,n.download=e;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r),window.URL.revokeObjectURL(a)}h(l,"文件名.xls")},dragDown:function(t,e){this.logFn("dragDown");var o=this,i=!1;e.preventDefault(),window.addEventListener("mousemove",n),window.addEventListener("mouseup",r);var s=0;s=t.fixed?t._left+t.width:t._left+t.width-this.geScrollLeftArea,this.dragLeft=s,this.dragLineShow=!0;var a=e.clientX;function n(e){i=!0;var n=e.clientX-a;o._willWidth=t.width+n,o.dragLeft=s+n}function r(){if(!i)return o.dragLineShow=!1,window.removeEventListener("mousemove",n),void window.removeEventListener("mouseup",r);o._willWidth<90&&(o._willWidth=90);for(var e=0;e<o.col.length;e++)if(o.col[e]._colid==t._colid){o.col[e].width=o._willWidth;for(var s=0;s<o.col.length;s++){var a=0;o.showCheckBoxAndIndex&&(a+=40),o.showOperate&&(a+=40),o.showStatus&&(a+=+o.statusWidth);for(var c=0;c<s;c++)o.col[c].hide||(a+=o.col[c].width);o.col[s]._left=a}break}o.dragLineShow=!1,window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r)}},colSort:function(t){var e=this;this.logFn("colSort");var o=this;t=this.deepClone(t);for(var i=this.deepClone(o.col),s=this.deepClone(this.row),n=0;n<i.length;n++)i[n]._sort="";function r(t,e){return t==e?0:1*t==t&&1*e==e?t-e<0?-1:1:Object(a["a"])(t)==Object(a["a"])(e)?t<e?-1:1:Object(a["a"])(t)<Object(a["a"])(e)?-1:1}function c(t,e){for(var o=0;o<i.length;o++)if(i[o]._colid==t)return void(i[o]._sort=e)}this.$nextTick(function(){if(""==t._sort){var a=s.sort(function(e,o){return r(o[t.props].value,e[t.props].value)});c(t._colid,"desc"),e.$nextTick(function(){e.row=a})}else if("desc"==t._sort){var n=s.sort(function(e,o){return r(e[t.props].value,o[t.props].value)});c(t._colid,"asc"),e.$nextTick(function(){e.row=n})}else"asc"==t._sort&&(c(t._colid,""),s=s.sort(function(t,e){return t._rowid-e._rowid}),e.$nextTick(function(){e.row=s}));o.col=i})},jsonClone:function(t){return JSON.parse(JSON.stringify(t))},deepClone:function(t){var e,o,i,s=a(t);if("array"===s)e=[];else{if("object"!==s)return t;e={}}if("array"===s){for(o=0,i=t.length;o<i;o++)e.push(this.deepClone(t[o]));return e}if("object"===s){for(o in t)e[o]=this.deepClone(t[o]);return e}function a(t){var e=Object.prototype.toString,o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return o[e.call(t)]}},addUrlQuery:function(t,e){function o(t){for(var e="",o=Object.entries(t),i=0;i<o.length;i++){var s=Object(n["a"])(o[i],2),a=s[0],r=s[1];e+="".concat(a,"=").concat(r,"&")}return e=e.substring(0,e.length-1),e}function i(t){"&"==t.substring(t.length-1)&&(t=t.substring(0,t.length-1));for(var e=t.split("&"),o={},i=0;i<e.length;i++){var s=e[i].split("=");o[s[0]]=s[1]}return o}var s=t.split("?");if(s[0]==t)return"".concat(t.trim(),"?").concat(o(e));if(""==s[1].trim())return"".concat(t.trim()).concat(o(e));var a=i(s[1]),c=Object(r["a"])({},a,e);return"".concat(s[0].trim(),"?").concat(o(c))}},beforeDestroy:function(){document.removeEventListener("click",this.hideOption),window.removeEventListener("resize",this.fixWindowResize),document.removeEventListener("keydown",this.keydown)}}),l=c,h=(o("xlBS"),o("KHd+")),d=Object(h["a"])(l,i,s,!1,null,"7bc47975",null);e["default"]=d.exports},RmQB:function(t,e,o){},UFPx:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADD0lEQVR4Xu2aS6hNURjHf3/KY6Dk5pHcYkLKgHtTxiJdFKMbdyQjZS6EvPLIVBky4XYzYSAmSBkQUgYUpTySdwbyKj6t2zkTnbv32mvvs61zzjrT/T1/61vfXmftT/T4Tz2ePwlAqoAeJ5C2QI8XQGqC3lvAzOYDh4FtwOT/XDl3gTWSvpaNwwuAmW0HTgPTyzqsUL8SCLkAzGwlcAeYVGHwVZlyEFZL+hZq0AfAKLAl1EENereBdaEQfAC8B2bXkEgZF8EQfABYi8gOArfKRFxA96anrIOwVtIPT/lxsUwAZuae/2lhcFjSxSKOQmXNrNUCTGTuBrChCIRuA+DAFILQjQAKQehWAE0IQ5J+ZW2/bgbg8r4qaX0vA0BS5iJ3ewUkAKkC0hZoTw8IPdjVrteuLVB7IqEOE4A29YDQBaldL1VAqoD0FmjLUbj2vRzqMPWA1APi7QHuouJJo7SXAlNCyzzz/35kFfAF2A9cA55LGr9wNTP30WURMAQcAWZWBSOmHvCgcWP7Lis5M5sLXAEGq4AQC4AXwDLfj5lmNgN4BCwsCyEGAO5ef1DSwyLJmNkAcD/v20WezRgAjEoayQu01XMzOw8E6TbtxQBgs6TLgQA2AZdCdGMC0C/pdUgSZrYAeBWiGxOAaZJ+hiRhZu5sEKQbE4A+SZ8DAcwCPoXoxgRgoOgboBm8mS0HCr09/oUVQxPcI+lEyCqa2W7geIhuTBXwElhctA+Y2VTgGdDf6QBc/Kck7SqSiJmdBArptLIfwxZoxjUiyQ1c5f7MbCtwIVfQQyAmAC7cY8BRSd8nOPm5OcR9wF6P3LxESgFwHgrO6PgE9Ra4DjwGnjoXgLsPWOKmP4F5PkY8ZUxS5nyjz5TYR6DP02FsYh8kzckKygfAGDAcW2ae8YxJyhzy9AHgRmXdSGqurGdQdYm526ZVku6VqoBGH9gBnKkr8gr8uCa7U9LZPFveq2pmG4FDwIqIq+E3cA44IOlNXvLuuTcAH2OdKJMAdOKqVRlzqoAqaXairVQBnbhqVcbc8xXwF5OWbVA/6ezxAAAAAElFTkSuQmCC"},Vtdi:function(t,e,o){"use strict";o.r(e);o("VRzm");var i=o("Kw5r"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],n=(o("rAmE"),o("KHd+")),r={},c=Object(n["a"])(r,s,a,!1,null,null,null),l=c.exports,h=o("jE9Z");i["default"].use(h["a"]);var d=new h["a"]({routes:[{path:"/",component:function(t){return o.e(4).then(function(){return t(o("ZRF6"))}.bind(null,o)).catch(o.oe)},children:[{path:"",name:"index",component:function(t){return o.e(3).then(function(){return t(o("N/kD"))}.bind(null,o)).catch(o.oe)}},{path:"database",name:"database",component:function(t){return o.e(2).then(function(){return t(o("RRlJ"))}.bind(null,o)).catch(o.oe)}}]},{path:"/login",name:"login",component:function(t){return o.e(1).then(function(){return t(o("3Xui"))}.bind(null,o)).catch(o.oe)}},{path:"*",name:"notFound",component:function(t){return o.e(0).then(function(){return t(o("jNvO"))}.bind(null,o)).catch(o.oe)}}]});d.beforeEach(function(t,e,o){o()});var p=d,u=o("L2JU");i["default"].use(u["a"]);var f=new u["a"].Store({state:{cureentPage:{},deepMenu:[],expandMenu:[],timestamp:0},mutations:{changeCurrentPage:function(t,e){t.cureentPage=e},getMenu:function(t,e){t.deepMenu=e.deepMenu,t.expandMenu=e.expandMenu},createTimestamp:function(t,e){t.timestamp=Date.now()}},actions:{goPage:function(t,e){t.state,t.commit,t.dispatch;console.log(e);var o=e.url;p.push(o)}}}),w=(o("Oyvg"),o("pIFo"),o("f3/d"),o("a1Th"),o("yT7P")),_=o("k5N+");o("rGqo"),o("yt8O"),o("/8Fb"),o("KKXr");i["default"].prototype.$utils={addCookie:function(t,e,o){var i=t+"="+escape(e);if(o>0){var s=new Date,a=3600*o*1e3;s.setTime(s.getTime()+a),i+="; expires="+s.toGMTString()}document.cookie=i},getCookie:function(t){for(var e=document.cookie.split("; "),o=0;o<e.length;o++){var i=e[o].split("=");if(i[0]==t)return unescape(i[1])}},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1e4),document.cookie=t+"=a; expires="+e.toGMTString()},addUrlQuery:function(t,e){function o(t){for(var e="",o=Object.entries(t),i=0;i<o.length;i++){var s=Object(_["a"])(o[i],2),a=s[0],n=s[1];e+="".concat(a,"=").concat(n,"&")}return e=e.substring(0,e.length-1),e}function i(t){"&"==t.substring(t.length-1)&&(t=t.substring(0,t.length-1));for(var e=t.split("&"),o={},i=0;i<e.length;i++){var s=e[i].split("=");o[s[0]]=s[1]}return o}var s=t.split("?");if(s[0]==t)return"".concat(t.trim(),"?").concat(o(e));if(""==s[1].trim())return"".concat(t.trim()).concat(o(e));var a=i(s[1]),n=Object(w["a"])({},a,e);return"".concat(s[0].trim(),"?").concat(o(n))},deepClone:function(t){var e,o,i,s=a(t);if("array"===s)e=[];else{if("object"!==s)return t;e={}}if("array"===s){for(o=0,i=t.length;o<i;o++)e.push(this.deepClone(t[o]));return e}if("object"===s){for(o in t)e[o]=this.deepClone(t[o]);return e}function a(t){var e=Object.prototype.toString,o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return o[e.call(t)]}},jsonClone:function(t){return JSON.parse(JSON.stringify(t))},cleanData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.id,i=void 0===o?"id":o,s=e.parentid,a=void 0===s?"parentid":s,n=this;function r(t){var e=n.jsonClone(t),o=0,s=[];if(0==e.length)return[];function r(t){for(var e=0;e<t.length;e++){for(var o=0;o<t.length;o++)if(t[e][i]==t[o][a]){t[e]._isleaf=0;break}void 0==t[e]._isleaf&&(t[e]._isleaf=1)}for(var s=0;s<t.length;s++)0!=t[s][a]?n(t[s],1,t[s][a]):t[s]._level=0;function n(e,o,s){for(var r=0;r<t.length;r++)if(t[r][i]==s)return 0==t[r][a]?void(e._level=o):(o++,void n(e,o,t[r][a]))}return t}e=r(e),e.forEach(function(t){t._level>o&&(o=t._level)}),e=e.map(function(t){return t._child=[],t});for(var c=function(t){s[t]=[],e.forEach(function(e){e._level==t&&s[t].push(e)})},l=0;l<=o;l++)c(l);for(l=s.length-1;l>=0;l--)for(var h=0;h<s[l].length;h++)d(s[l][h],l);return s[0];function d(t,e){if(0!=e)for(var o=e-1,n=0;n<s[o].length;n++)s[o][n][i]==t[a]&&s[o][n]._child.push(t)}}var c=r(t);return c},flattenedCleanData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",o=[],i=[],s=0;return a(t,0),o;function a(t,n){for(var r=0;r<t.length;r++)i[n]=t[r][e],s=n,0!=t[r]._child.length?a(t[r]._child,n+1):o.push(Object(w["a"])({},t[r],{_fullPathName:i.slice(0,+s+1).join("#_#")}))}}},Date.prototype.format=function(t){if("Invalid Date"==this.toString())return"";var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[o]:("00"+e[o]).substr((""+e[o]).length)));return t};var v=o("vDqi"),m=o.n(v),g=m.a.create({baseURL:"http://localhost:8081/"});g.interceptors.request.use(function(t){return t.headers["Authorization"]="token-test-0111111111111111111111111",t},function(t){return console.error(t),Promise.reject(t)}),g.interceptors.response.use(function(t){return t},function(t){return console.error(t),Promise.reject(t)});var k=g,C=o("KjH2"),y=o.n(C),P=(o("fOmb"),o("XJYT")),x=o.n(P),b=(o("D66Q"),o("oAJy")),A=o.n(b);function S(t){return t.charAt(0).toLowerCase()+t.slice(1)}var F=o("IyMa");F.keys().forEach(function(t){var e=F(t),o=S(t.replace(/^\.\//,"").replace(/\.\w+$/,""));i["default"].component(o,e.default||e)});o("Po7t"),o("bmWm"),o("6k+m");i["default"].prototype.$axios=k,i["default"].prototype.$mdui=y.a,i["default"].use(x.a),i["default"].prototype.$localforage=A.a,i["default"].config.productionTip=!1,new i["default"]({router:p,store:f,render:function(t){return t(l)}}).$mount("#app")},bmWm:function(t,e,o){},gLHo:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mdui-fab-wrapper",attrs:{"mdui-fab":"{trigger: 'click'}"}},[t._m(0),i("div",{staticClass:"mdui-fab-dial"},t._l(t.fabList,function(e,s){return i("button",{key:s,staticClass:"mdui-fab mdui-fab-mini mdui-ripple",style:{background:e.bgColor||"#009688"},attrs:{"mdui-tooltip":"{position: 'left', content: '"+e.tooltip+"'}"},on:{click:function(o){t.btnClick(e)}}},[i("img",{staticClass:"fab-img",attrs:{src:o("5cSw")("./"+e.img)}})])}))])},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"mdui-fab mdui-ripple mdui-color-teal",attrs:{"mdui-tooltip":"{position: 'left', content: '操作面板'}"}},[o("i",{staticClass:"mdui-icon material-icons"},[t._v("more_verti")]),o("i",{staticClass:"mdui-icon mdui-fab-opened material-icons"},[t._v("expand_less")])])}],a=(o("VRzm"),{name:"fab",data:function(){return{}},props:{fabList:{default:function(){return[]}}},methods:{btnClick:function(t){this.$emit("fabDone",t)}}}),n=a,r=(o("KR3l"),o("KHd+")),c=Object(r["a"])(n,i,s,!1,null,"3024d675",null);e["default"]=c.exports},rAmE:function(t,e,o){"use strict";var i=o("JVp3"),s=o.n(i);s.a},wKr5:function(t,e,o){},xlBS:function(t,e,o){"use strict";var i=o("wKr5"),s=o.n(i);s.a}});
//# sourceMappingURL=app.32322403.js.map