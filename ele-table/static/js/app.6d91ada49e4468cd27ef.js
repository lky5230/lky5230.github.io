webpackJsonp([1],{0:function(t,e){},MtKc:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),a=i("pFYg"),s=i.n(a),r=i("W3Iv"),n=i.n(r),l=i("BO1k"),c=i.n(l),d=i("d7EF"),p=i.n(d),h=i("mvHQ"),u=i.n(h),f=i("//Fk"),_=i.n(f),v=i("Dd8w"),w=i.n(v),m={props:{colData:{required:!0},rowData:{required:!0},colRelation:{default:function(){return[]}},entry:{default:!1},scrollSpeed:{default:2},showCheckBoxAndIndex:{default:!0},onlyShowIndex:{default:!1},onlyShowCheckBox:{default:!1},showPrompt:{default:!0},searchDelayTime:{default:500},showOptionPage:{default:!0},option_limit:{default:500}},data:function(){return{width:0,height:0,cellHeight:40,scrollLeft:0,scrollTop:0,lineHover:{},col:[],row:[],colRel:[],reset:0,option_data:[],option_info:{},option_loading:!1,option_width:0,option_hide_arrow:!1,option_left:0,option_top:0,option_show:!1,option_current_page:1,option_search:"",option_total_number:0,dataPicker_info:{},dataPicker_date:"",dataPicker_show:!1,dataPicker_left:0,dataPicker_top:0,dataPicker_width:0,timePicker_show:!1,timePicker_left:0,timePicker_top:0,timePicker_width:0,timePicker_time:{},timeMinute:[],timeType:!0,dragLeft:0,dragLineShow:!1,hover_show:!1,hover_info:{},hover_width:0,hover_bottom:0,hover_left:0,isPC:!0}},computed:{fullWidth:function(){for(var t=0,e=0;e<this.col.length;e++)t+=this.col[e].width;return this.showCheckBoxAndIndex&&(t+=40),t},fullHeight:function(){return this.cellHeight*(this.row.length+.5)},geScrollLeftArea:{get:function(){var t=this.width*this.width/this.fullWidth;return(this.scrollLeft+t)/this.width*this.fullWidth-this.width},set:function(t){var e=this.width*this.width/this.fullWidth;this.scrollLeft=(t+this.width)/this.fullWidth*this.width-e}},geScrollTopArea:{get:function(){var t=this.height-this.colRelMaxLevel*this.cellHeight,e=t*t/this.fullHeight;return(this.scrollTop+e)/t*this.fullHeight-t},set:function(t){var e=this.height-this.colRelMaxLevel*this.cellHeight,i=e*e/this.fullHeight;this.scrollTop=(t+e)/this.fullHeight*e-i}},colFixHeader:function(){return this.col.filter(function(t){return t.fixed})},colActiveHeader:function(){return this.col.filter(function(t){return!t.fixed})},colFixHeaderWidth:function(){for(var t=0,e=0;e<this.colFixHeader.length;e++)t+=this.colFixHeader[e].width;return t},headerCheckStatus:{get:function(){var t=this.row.filter(function(t){return!t.noCheckAble}).length,e=this.row.filter(function(t){return t.checked&&!t.noCheckAble}).length;return 0!=t&&(t==e?"all":e>0?"some":0==e?"none":void 0)},set:function(t){if("none"==t){var e=this.deepClone(this.row);e.forEach(function(t){t.noCheckAble||(t.checked=!1)}),this.row=e}if("all"==t){var i=this.deepClone(this.row);i.forEach(function(t){t.noCheckAble||(t.checked=!0)}),this.row=i}}},checkedRows:function(){return{allChecked:this.row.filter(function(t){return t.checked}),realChecked:this.row.filter(function(t){return t.checked&&!t.noCheckAble}),info:{description:"1、allChecked：所有被选中的行（包括禁用但默认选中的行）。2、realChecked：所有被选中的行（排除掉禁用但默认选中的行）"}}},getTable:function(){return{row:this.row,col:this.col,modifyAndNew:this.row.filter(function(t){return t._modify}),onlyModify:this.row.filter(function(t){return t._modify&&!t._add}),onlyNew:this.row.filter(function(t){return t._add})}},hover_text:function(){var t=this;if("mul_select"!=this.hover_info.type&&"opt_mul_select"!=this.hover_info.type)return this.hover_info.value;var e=this.row.filter(function(e){return e._rowid==t.hover_info.rowid});return 0==e.length?"":""+e[0][this.hover_info.props].value.map(function(t){return' <span style="display: inline-block; margin: 2px; background: #fff; color: #009fff; padding: 2px 6px; border: 1px solid #009fff;">'+t+"</span> "}).join("")},colRelMaxLevel:function(){for(var t=1,e=0;e<this.colRel.length;e++)this.colRel[e].level&&this.colRel[e].level>t&&(t=this.colRel[e].level);return t},realCol:function(){for(var t=[],e=this.colRelMaxLevel,i=this.col.length,o=0;o<this.colRel.length;o++){void 0==t[this.colRel[o].level-1]&&(t[this.colRel[o].level-1]=[]);var a={_colid:"level-"+this.colRel[o].level+"-"+o,_top:(e-this.colRel[o].level)*this.cellHeight,title:this.colRel[o].title,_isLevel:!0,_left:0,width:0},s=this.colRel[o].indexStart,r=this.colRel[o].indexEnd||this.col.length;a._left=this.col[s]._left;for(var n=0,l=s;l<r;l++)n+=this.col[l].width;a.width=n,t[this.colRel[o].level-1].push(a)}t[0]=this.jsonClone(this.col);for(var c=0;c<t[0].length;c++)t[0][c]._verticalSpace=this.colRelMaxLevel-1;for(var d=0;d<this.colRel.length;d++)for(var p=this.colRel[d].indexStart,h=this.colRel[d].indexEnd||i,u=0;u<t[0].length;u++)u>=p&&u<h&&(t[0][u]._verticalSpace-=1);return t},option_total_page:function(){return Math.ceil(this.option_total_number/this.option_limit)},option_show_search:function(){return void 0!=this.option_info.row&&("opt_select"!=this.option_info.row[this.option_info.col.props].type&&"opt_mul_select"!=this.option_info.row[this.option_info.col.props].type)},getPickerArray:{get:function(){if(""==this.dataPicker_date)return{};for(var t=this.dataPicker_date,e=this.dataPicker_date==this.dataPicker_info.row[this.dataPicker_info.col.props].value,i=new Date(t),o=[],a=i.getFullYear(),s=+i.getMonth(),r=+i.getDate(),n=new Date(a+"-"+(+s+1<10?"0"+(+s+1):+s+1)+"-01").getDay(),l=(n=0==n?7:n)-1,c=new Date(+s+1==1?a-1:a,+s+1-1==0?12:+s+1-1,0).getDate(),d=new Date(a,+s+1,0).getDate(),p=l-1;p>=0;p--){var h=+s+1==1?12:+s+1-1,u=c-p;h<10&&(h="0"+h),u<10&&(u="0"+u),o.push({date:(+s+1==1?a-1:a)+"-"+h+"-"+u,day:c-p,currentMonth:!1,active:!1})}for(var f=1;f<=d;f++){var _=+s+1,v=f;_<10&&(_="0"+_),v<10&&(v="0"+v),o.push({date:a+"-"+_+"-"+v,currentMonth:!0,day:f,active:!(f!=r||!e),active2:this.dataPicker_date.split(" ")[0]==a+"-"+_+"-"+v&&"datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type})}for(var w=o.length,m=1;m<=42-w;m++){var y=+s+1==12?1:+s+1+1,g=m;y<10&&(y="0"+y),g<10&&(g="0"+g),o.push({date:(+s+1==12?a+1:a)+"-"+y+"-"+g,day:m,currentMonth:!1,active:!1})}for(var k=[],C=0,P=0;P<6;P++){k[P]=[];for(var x=0;x<7;x++)k[P].push(o[C]),C++}return{year:a,month:+s+1<10?"0"+(+s+1):+s+1,day:r,week:n,res:k}},set:function(t){this.dataPicker_date=t}},timePickerComputed:{get:function(){var t=this.timePicker_time.h,e=this.timePicker_time.m,i=this.timePicker_time.s,o=+e/60*360;return w()({},this.timePicker_time,{h:t,s:i,m:e,radius:o})},set:function(t){this.timePicker_time=t}},timeHoursComputed:function(){for(var t=[],e=0;e<12;e++)t.push({value:this.timeType?0==e?12:e:e+12==12?0:e+12,alias:this.timeType?0==e&&"12":0==e&&"凌晨",left:110+50*Math.cos(e*(2*Math.PI)/12-Math.PI/2)-12,top:110+50*Math.sin(e*(2*Math.PI)/12-Math.PI/2)-12});return t},pickerHoursComputed:{get:function(){var t=this.timePicker_time.h;return void 0!=t&&t<12&&(this.timeType=!0),void 0!=t&&t>12&&(this.timeType=!1),{h:t,radius:+t/12*360-90}},set:function(t){this.timePicker_time.h=t}},dateTimeHMS:function(){var t=new Date(this.dataPicker_date);return{h:t.format("hh"),m:t.format("mm"),s:t.format("ss")}}},created:function(){},watch:{},mounted:function(){this.fixedWidthHeight(),window.addEventListener("resize",this.fixedWidthHeight),document.addEventListener("click",this.hideOption),this.init()},methods:{console:function(t){window.console.log(t)},init:function(){this.row=this.deepClone(this.rowData),this.col=this.deepClone(this.colData),this.colRel=this.deepClone(this.colRelation);for(var t=0,e=0,i=0;i<this.row.length;i++)this.row[i]._rowid=t,this.row[i]._error=void 0!=this.row[i]._error&&this.row[i]._error,this.row[i]._modify=void 0!=this.row[i]._modify&&this.row[i]._modify,t++;for(var o=0;o<this.col.length;o++)this.col[o]._colid="level-1-"+e,this.col[o]._sort="",e++,void 0==this.col[o].width&&(this.col[o].width=90);for(var a=0;a<this.col.length;a++){var s=0;this.showCheckBoxAndIndex&&(s=40);for(var r=0;r<a;r++)s+=this.col[r].width;this.col[a]._left=s,this.col[a]._top=(this.colRelMaxLevel-1)*this.cellHeight}for(var n=0,l=0;l<this.col.length;l++)n+=this.col[l].width||0;this.showCheckBoxAndIndex&&(n+=40),n<this.width&&(this.col[this.col.length-1].width=(this.col[this.col.length-1].width||0)+this.width-n),/Android|webOS|iPhone|iPod|BlackBerry/i.test(window.navigator.userAgent)?this.isPC=!1:this.isPC=!0,Date.prototype.format=function(t){if("Invalid Date"==this.toString())return"";var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t}},fixedWidthHeight:function(){var t=this.$refs.wrap;t instanceof Array&&(t=t[0]),this.width=t.offsetWidth,this.height=t.offsetHeight},placeholder_date:function(t){return"date"==t?"yyyy-MM-dd":"time"==t?"hh:mm:ss":"datetime"==t?"yyyy-MM-dd hh:mm:ss":"month"==t?"输入月份":"year"==t?"输入年份":void 0},checkBox:function(t){for(var e=0;e<this.row.length;e++)if(this.row[e]._rowid==t._rowid)return void(this.row[e].checked=!this.row[e].checked)},scrollMouseDown:function(t,e){t.preventDefault(),this.option_show=!1,this.dataPicker_show=!1,this.timePicker_show=!1;var i=this,o=void 0,a=void 0,s=void 0,r=void 0;if("x"==e)o=this.scrollLeft,a=t.clientX;else{if("y"!=e)return console.warn("请传入参数type"),!1;s=this.scrollTop,r=t.clientY}function n(t){var n=i.height-i.colRelMaxLevel*i.cellHeight;if("x"==e){var l=o+(t.clientX-a);l<0&&(l=0);var c=i.width*i.width/i.fullWidth;l+c>i.width&&(l=i.width-c),i.scrollLeft=l}else{var d=s+(t.clientY-r);d<0&&(d=0);var p=n*n/i.fullHeight;d+p>n&&(d=n-p),i.scrollTop=d}}window.addEventListener("mousemove",n),window.addEventListener("mouseup",function t(e){window.removeEventListener("mousemove",n);window.removeEventListener("mouseup",t)})},mousewheel:function(t){this.option_show=!1,this.dataPicker_show=!1,this.timePicker_show=!1;var e=this.height-this.colRelMaxLevel*this.cellHeight;if(!(e*e/this.fullHeight>=this.height-this.cellHeight*this.colRelMaxLevel)){var i=e-e*e/this.fullHeight,o=this.scrollTop,a=this.scrollSpeed*(e/this.fullHeight)*this.cellHeight;t.wheelDelta?(t.wheelDelta>0&&(o-=a),t.wheelDelta<0&&(o+=a)):t.detail&&(t.detail>0&&(o-=a),t.detail<0&&(o+=a)),o<0&&(o=0),o>i&&(o=i),this.scrollTop=o}},touchstart:function(t){this._optionCanShow=!0,t.preventDefault();var e=this.$refs.container,i=t.touches[0];this._geScrollLeftArea=this.geScrollLeftArea,this._geScrollTopArea=this.geScrollTopArea,this._startx=Math.floor(i.pageX),this._starty=Math.floor(i.pageY),e.addEventListener("touchmove",this.touchmove),e.addEventListener("touchend",this.touchend)},touchmove:function(t){this._optionCanShow=!1,t.preventDefault();var e=Math.floor(t.changedTouches[0].pageX),i=Math.floor(t.changedTouches[0].pageY),o=e-this._startx,a=i-this._starty,s=180*Math.atan2(a,o)/Math.PI,r=0,n=0;if(Math.abs(o)<=1||Math.abs(a)<=1)return!1;s<45&&s>=-45?((n=this._geScrollLeftArea-Math.abs(o))<0&&(n=0),this.geScrollLeftArea=n):s<135&&s>=45?((r=this._geScrollTopArea-Math.abs(a))<0&&(r=0),this.geScrollTopArea=r):s<=180&&s>=135||s>=-180&&s<-135?((n=this._geScrollLeftArea+Math.abs(o))>this.fullWidth-this.width&&(n=this.fullWidth-this.width),this.geScrollLeftArea=n):s<=-45&&s>=-135&&((r=this._geScrollTopArea+Math.abs(a))>this.fullHeight-(this.height-this.colRelMaxLevel*this.cellHeight)&&(r=this.fullHeight-(this.height-this.colRelMaxLevel*this.cellHeight)),this.geScrollTopArea=r)},touchend:function(t){t.preventDefault();var e=this.$refs.container;e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchup",this.touchup)},inpTouchEnd:function(t,e){if(1==this._optionCanShow){var i=this.$refs["inp-"+t+"-"+e];i&&0!=i.length&&(i instanceof Array&&(i=i[0]),i.focus())}},modifyByRowCol:function(t,e,i,o){for(var a=0;a<this.row.length;a++)if(this.row[a]._rowid==t){if(this.row[a][e].value=i,void 0!=o){this.row[a][e].id=o;for(var s=null,r=0;r<this.col.length;r++)if(this.col[r].props==e){s=this.col[r];break}this.$emit("selectChange",{value:i,id:o,rowid:t,col:s})}return this.row[a]._modify=!0,void(this.row[a]._error=!1)}},checkNumber:function(t,e,i){i*=1,void 0!=t[e.props].min&&i<t[e.props].min&&(i=t[e.props].min),void 0!=t[e.props].max&&i>t[e.props].max&&(i=t[e.props].max),void 0!=t[e.props].floatLength&&(i=(1*i).toFixed(t[e.props].floatLength)),this.modifyByRowCol(t._rowid,e.props,i)},checkDate:function(t,e,i,o){if(""!=(i+"").trim()){if("date"==o)if(!new RegExp(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/).test(i))return void this.modifyByRowCol(t._rowid,e.props,"");if("time"==o)if(!new RegExp(/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/).test(i))return void this.modifyByRowCol(t._rowid,e.props,"");if("datetime"==o)if(!new RegExp(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])\s+(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/).test(i))return void this.modifyByRowCol(t._rowid,e.props,"");if("month"==o)if(!new RegExp(/^0?[1-9]$|^1[0-2]$/).test(i))return void this.modifyByRowCol(t._rowid,e.props,"");if("year"==o)if(!new RegExp(/^(1849|18[5-9]\d|20\d{2}|2200)$/).test(i))return void this.modifyByRowCol(t._rowid,e.props,"");this.modifyByRowCol(t._rowid,e.props,i)}else this.modifyByRowCol(t._rowid,e.props,"")},selectClose:function(t,e,i){"mul_select"==i?this.modifyByRowCol(t._rowid,e.props,[],[]):"select"==i?this.modifyByRowCol(t._rowid,e.props,"",""):"date"!=i&&"time"!=i||this.modifyByRowCol(t._rowid,e.props,""),this.hideOption()},searchFocus:function(t,e,i){var o=this,a=this.$refs["cell-"+t._rowid+"-"+e._colid];a instanceof Array&&(a=a[0]),this.dataPicker_show=!1,this.timePicker_show=!1,a.querySelector("input").select();var s=a.getBoundingClientRect(),r=this.$refs.container.getBoundingClientRect();this.option_info={row:t,col:e},this.option_width=Math.min(Math.max(s.width,166),400);var n=s.left-r.left-5;r.width<n+this.option_width&&(n=r.width-this.option_width-5),this.option_left=n,this.option_top=s.top-r.top+s.height+8,this.option_hide_arrow=!1,this.option_loading=!0,this.option_show=!0,this._wheelStop=function(t){t.stopPropagation()},this.$refs.optionDOM.removeEventListener("DOMMouseScroll",this._wheelStop),this.$refs.optionDOM.addEventListener("DOMMouseScroll",this._wheelStop),this.option_current_page=1,this.$nextTick(function(){var a=t[e.props].dataPos||"data.result";a=a.split(".");var s=t[e.props].dataTotal||"data.total";s=s.split("."),o.option_search="",o.searchRemote(t[e.props]).then(function(r){for(var n=o.jsonClone(r.data),l=0;l<a.length;l++)n=n[a[l]];for(var c=o.jsonClone(r.data),d=0;d<s.length;d++)c=c[s[d]];if(o.option_total_number=c,o.option_loading=!1,o.cellOver(t,e,!0),i){for(var p=0;p<n.length;p++)for(var h=0;h<t[e.props].id.length;h++)if(n[p].id+""==t[e.props].id[h]+""){n[p].select=!0;break}}else for(var u=0;u<n.length;u++)if(n[u].id+""==t[e.props].id+""){n[u].select=!0;break}o.option_data=n}).catch(function(t){o.option_loading=!1,o.option_data=[],console.error(t)})})},opt_searchFocus:function(t,e,i){var o=this,a=this.$refs["cell-"+t._rowid+"-"+e._colid];this.dataPicker_show=!1,a instanceof Array&&(a=a[0]),a.querySelector("input").select();var s=a.getBoundingClientRect(),r=this.$refs.container.getBoundingClientRect();this.option_info={row:t,col:e},this.option_left=s.left-r.left-5,this.option_top=s.top-r.top+s.height+8,this.option_hide_arrow=!1,this.option_width=Math.min(Math.max(s.width,166),400),this.option_loading=!1,this.option_show=!0,this._wheelStop=function(t){t.stopPropagation()},this.$refs.optionDOM.removeEventListener("DOMMouseScroll",this._wheelStop),this.$refs.optionDOM.addEventListener("DOMMouseScroll",this._wheelStop),this.option_current_page=1,this.$nextTick(function(){o.option_search="";var a=o.jsonClone(t[e.props].option),s=a;if(o.option_total_number=s.length,o.option_loading=!1,o.cellOver(t,e,!0),i){for(var r=0;r<a.length;r++)for(var n=0;n<t[e.props].id.length;n++)if(a[r].id+""==t[e.props].id[n]+""){a[r].select=!0;break}}else for(var l=0;l<a.length;l++)if(a[l].id+""==t[e.props].id+""){a[l].select=!0;break}o.option_data=a})},dataPickerFocus:function(t,e){var i=this.$refs["cell-"+t._rowid+"-"+e._colid];i instanceof Array&&(i=i[0]),this.option_show=!1,this.timePicker_show=!1,i.querySelector("input").select();var o=i.getBoundingClientRect(),a=this.$refs.container.getBoundingClientRect();this.dataPicker_info={row:t,col:e},"datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type?this.dataPicker_date=t[e.props].value||(new Date).format("yyyy-MM-dd hh:mm:ss"):this.dataPicker_date=t[e.props].value||(new Date).format("yyyy-MM-dd");var s=o.left-a.left-5;a.width<s+220&&(s=a.width-220-5),this.dataPicker_left=s,this.dataPicker_top=o.top-a.top+o.height+8,this.dataPicker_width=220,this.dataPicker_show=!0},datapickerClick:function(t){if("datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type){if(null==t)return this.dataPicker_date=(new Date).format("yyyy-MM-dd hh:mm:ss"),this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,this.dataPicker_date),this.$emit("dateChange",{value:this.dataPicker_date,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),void(this.dataPicker_show=!1);if("clear"==t)return t="",this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,t),this.$emit("dateChange",{value:t,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),void(this.dataPicker_show=!1);if("confirm"==t)return this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,this.dataPicker_date),this.$emit("dateChange",{value:this.dataPicker_date,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),void(this.dataPicker_show=!1);this.dataPicker_date=t+" "+new Date(this.dataPicker_date).format("hh:mm:ss")}else t||(t=(new Date).format("yyyy-MM-dd")),"clear"==t&&(t=""),this.modifyByRowCol(this.dataPicker_info.row._rowid,this.dataPicker_info.col.props,t),this.$emit("dateChange",{value:t,rowid:this.dataPicker_info.row._rowid,col:this.dataPicker_info.col}),this.dataPicker_show=!1},dateYear:function(t){var e=this.dataPicker_date.split("-"),i=+e[0]+t;this.dataPicker_date=[i,e[1],e[2]].join("-")},dateMonth:function(t){if("datetime"==this.dataPicker_info.row[this.dataPicker_info.col.props].type){var e=new Date(this.dataPicker_date).format("yyyy"),i=new Date(this.dataPicker_date).format("MM"),o=new Date(this.dataPicker_date).format("dd"),a=new Date(this.dataPicker_date).format("hh"),s=new Date(this.dataPicker_date).format("mm"),r=new Date(this.dataPicker_date).format("ss");(i=+i+t)<1&&(i=12,e-=1),i>12&&(i=1,e=+e+1),i<10&&(i="0"+i);var n=e+"-"+i+"-"+o+" "+a+":"+s+":"+r;this.dataPicker_date=new Date(n).format("yyyy-MM-dd hh:mm:ss")}else{var l=this.dataPicker_date.split("-"),c=+l[0],d=+l[1],p=+l[2],h=d+t;0==h&&(h=12,c-=1),13==h&&(h=1,c+=1),h<10&&(h="0"+h),p<10&&(p="0"+p),this.dataPicker_date=[c,h,p].join("-")}},dateTimeHMSFn:function(t,e){var i=+t.target.value,o=new Date(this.dataPicker_date).format("yyyy"),a=new Date(this.dataPicker_date).format("MM"),s=new Date(this.dataPicker_date).format("dd"),r=new Date(this.dataPicker_date).format("hh"),n=new Date(this.dataPicker_date).format("mm"),l=new Date(this.dataPicker_date).format("ss");"h"==e&&((r=i)>=24&&(r=0),r<0&&(r=23)),"m"==e&&((n=i)>=60&&(n=0),r<0&&(r=59)),"s"==e&&((l=i)>=60&&(l=0),l<0&&(l=59)),r<10&&(r="0"+ +r),n<10&&(n="0"+ +n),l<10&&(l="0"+ +l),this.dataPicker_date=o+"-"+a+"-"+s+" "+r+":"+n+":"+l},timePickerFocus:function(t,e){var i=this.$refs["cell-"+t._rowid+"-"+e._colid];i instanceof Array&&(i=i[0]),this.option_show=!1,this.dataPicker_show=!1,i.querySelector("input").select();var o=i.getBoundingClientRect(),a=this.$refs.container.getBoundingClientRect(),s=t[e.props].value;s||(s=(new Date).format("hh:mm:ss")),this.timePicker_time={time:s,h:s.split(":")[0],m:s.split(":")[1],s:s.split(":")[2],row:t,col:e};var r=o.left-a.left-5;if(a.width<r+240&&(r=a.width-240-5),this.timePicker_left=r,this.timePicker_top=o.top-a.top+o.height+8,this.timePicker_width=240,this.timePicker_show=!0,0==this.timeMinute.length){for(var n=[],l=0;l<12;l++)n.push({value:5*l,left:110+96*Math.cos(5*l*(2*Math.PI)/60-Math.PI/2)-12,top:110+96*Math.sin(5*l*(2*Math.PI)/60-Math.PI/2)-12});this.timeMinute=n}},timePickerFn:function(t,e,i){if("h"==t){var o=+this.timePickerComputed.h+e;void 0!=i&&(o=i),o<0?o=23:o>23&&(o=0),this.timePickerComputed=w()({},this.timePickerComputed,{h:r(o)})}if("m"==t){var a=+this.timePickerComputed.m+e;a<0?a=59:a>59&&(a=0),void 0!=i&&(a=i),this.timePickerComputed=w()({},this.timePickerComputed,{m:r(a)})}if("s"==t){var s=+this.timePickerComputed.s+e;s<0?s=59:s>59&&(s=0),void 0!=i&&(s=i),this.timePickerComputed=w()({},this.timePickerComputed,{s:r(s)})}function r(t){return+t<10&&(t="0"+ +t),t}},timePickerBtnNow:function(){var t=(new Date).format("hh:mm:ss");this.timePicker_time.h=t.split(":")[0],this.timePicker_time.m=t.split(":")[1],this.timePicker_time.s=t.split(":")[2],this.timePickerBtn()},timePickerBtn:function(t){var e=i(this.timePicker_time.h)+":"+i(this.timePicker_time.m)+":"+i(this.timePicker_time.s);function i(t){return+t<10&&(t="0"+ +t),t}"clear"==t&&(e=""),this.modifyByRowCol(this.timePicker_time.row._rowid,this.timePicker_time.col.props,e),this.$emit("dateChange",{value:e,rowid:this.timePicker_time.row._rowid,col:this.timePicker_time.col}),this.timePicker_show=!1},timeTypeChange:function(){this.timeType=!this.timeType;var t=+this.timePicker_time.h;this.timeType?t>12&&(t-=12):t<12&&(t+=12),t<10&&(t="0"+t),this.timePicker_time.h=t},searchInput:function(t){var e=this,i=this.option_info.row,o=this.option_info.col,a=!1;"mul_select"==i[o.props].type&&(a=!0),this.searchTimer&&clearTimeout(this.searchTimer),this.option_search=t.target.value,this.option_current_page=1,this.searchTimer=setTimeout(function(){var t=i[o.props].dataPos||"data.result";t=t.split(".");var s=i[o.props].dataTotal||"data.total";s=s.split("."),e.searchRemote(i[o.props]).then(function(r){for(var n=r.data,l=0;l<t.length;l++)n=n[t[l]];for(var c=e.jsonClone(r.data),d=0;d<s.length;d++)c=c[s[d]];if(e.option_total_number=c,a)for(var p=0;p<n.length;p++)for(var h=0;h<i[o.props].id.length;h++)n[p].id==i[o.props].id[h]&&(n[p].select=!0);else for(var u=0;u<n.length;u++)if(n[u].id==i[o.props].id){n[u].select=!0;break}e.option_loading=!1,e.option_data=n}).catch(function(t){e.option_loading=!1,e.option_data=[],console.error(t)})},this.searchDelayTime)},searchByPage:function(t){var e=this,i=this.option_info.row,o=this.option_info.col,a=!1;"mul_select"==i[o.props].type&&(a=!0);var s=i[o.props].dataPos||"data.result";s=s.split(".");var r=i[o.props].dataTotal||"data.total";r=r.split(".");var n=this.option_current_page;n+t>this.option_total_page||n+t<=0||(this.option_current_page+=t,this.searchRemote(i[o.props]).then(function(t){for(var n=t.data,l=0;l<s.length;l++)n=n[s[l]];for(var c=e.jsonClone(t.data),d=0;d<r.length;d++)c=c[r[d]];if(e.option_total_number=c,a)for(var p=0;p<n.length;p++)for(var h=0;h<i[o.props].id.length;h++)n[p].id==i[o.props].id[h]&&(n[p].select=!0);else for(var u=0;u<n.length;u++)if(n[u].id==i[o.props].id){n[u].select=!0;break}e.option_loading=!1,e.option_data=n}).catch(function(t){e.option_loading=!1,e.option_data=[],console.error(t)}))},optionItemClick:function(t){var e=this,i=this.option_info.row[this.option_info.col.props].type;if("mul_select"==i||"opt_mul_select"==i){for(var o=this.jsonClone(this.option_info.row[this.option_info.col.props].id),a=this.jsonClone(this.option_info.row[this.option_info.col.props].value),s=this.jsonClone(this.option_data).map(function(t){return t.select=!1,t}),r=!1,n=0;n<o.length;n++)if(o[n]==t.id){o.splice(n,1),r=!0;break}r||o.push(t.id);for(var l=!1,c=0;c<a.length;c++)if(a[c]==t.name){a.splice(c,1),l=!0;break}l||a.push(t.name);for(var d=0;d<s.length;d++)for(var p=0;p<o.length;p++)s[d].id==o[p]&&(s[d].select=!0);this.option_data=s,this.$nextTick(function(){e.modifyByRowCol(e.option_info.row._rowid,e.option_info.col.props,a,o)})}else this.modifyByRowCol(this.option_info.row._rowid,this.option_info.col.props,t.name,t.id),this.option_show=!1},searchRemote:function(t){if(!t.url)return _.a.reject("缺失url！");if(this.showOptionPage){var e=this.addUrlQuery(t.url,{limit:this.option_limit,offset:(this.option_current_page-1)*this.option_limit,q:this.option_search});return this.$http.get(e)}var i=this.addUrlQuery(t.url,{q:this.option_search});return this.$http.get(i)},hideOption:function(){this.hover_show=!1,this.option_show=!1,this.dataPicker_show=!1,this.timePicker_show=!1},addLine:function(){var t=this;if(0!=this.entry&&"{}"!=u()(this.entry)){var e=this.deepClone(this.entry);e.checked=!1,e._error=!1,e._modify=!0,e._add=!0,e._rowid=Date.now();var i=!0,o=!1,a=void 0;try{for(var s,r=c()(n()(e));!(i=(s=r.next()).done);i=!0){var l=s.value,d=p()(l,2),h=d[0],f=d[1];"function"==typeof f.value&&(e[h].value=f.value()),"function"==typeof f.id&&(e[h].id=f.id())}}catch(t){o=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}this.row.push(e),this.$nextTick(function(){t.geScrollTopArea=Math.max(t.fullHeight-(t.height-t.colRelMaxLevel*t.cellHeight),0)})}},doLayout:function(){this.fixedWidthHeight()},doReset:function(t){var e=this;this.reset=Date.now(),t&&(this.scrollTop=0,this.scrollLeft=0),this.$nextTick(function(){e.init()})},cellOver:function(t,e,i){var o=this;if(!i){if(this.option_show)return;this.hover_show=!1}var a=t[e.props].value;if(""!=(a+"").trim()){var s=this.$refs.textLengtn;if(s.innerText=a,1*s.offsetWidth+20<e.width&&"mul_select"!=t[e.props].type)this.hover_show=!1;else{var r=this.$refs["cell-"+t._rowid+"-"+e._colid],n=this.$refs.container;r instanceof Array&&(r=r[0]),this.hover_info={props:e.props,rowid:t._rowid,type:t[e.props].type,value:t[e.props].value};var l=r.getBoundingClientRect(),c=n.getBoundingClientRect(),d=0,p=(d="mul_select"==t[e.props].type?Math.max(e.width,214):Math.max(e.width,134))-e.width;this.hover_width=d,this.hover_left=l.left-c.left-p/2,this.hover_bottom=this.height-(l.top-c.top)+16,this.$nextTick(function(){o.hover_show=!0})}}else this.hover_show=!1},cellOut:function(t,e){this.option_show||(this.hover_show=!1)},checkRequired:function(){for(var t=this,e=0;e<this.row.length;e++){var i=!0,o=!1,a=void 0;try{for(var s,r=c()(n()(this.row[e]));!(i=(s=r.next()).done);i=!0){var l=s.value,d=p()(l,2),h=d[0],u=d[1];if(1==u.required)if("number"==u.type){if(isNaN(u.value)){var f=v(h);return this.row[e]._error=!0,this.goLineCenter(e),this.$forceUpdate(),"第"+(1*e+1)+"行，"+f+"列 不能为空！"}}else if(""==(u.value+"").trim()){var _=v(h);return this.row[e]._error=!0,this.goLineCenter(e),this.$forceUpdate(),"第"+(1*e+1)+"行，"+_+"列 不能为空！"}}}catch(t){o=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}}return!0;function v(e){for(var i=0;i<t.col.length;i++)if(t.col[i].props==e)return t.col[i].title}},goLineCenter:function(t){var e=Math.floor((this.height-this.colRelMaxLevel*this.cellHeight)/this.cellHeight/2);this.geScrollTopArea=Math.max(0,Math.min((t-e)*this.cellHeight,this.fullHeight-this.height+this.colRelMaxLevel*this.cellHeight))},dragDown:function(t,e){var i=this,o=!1;e.preventDefault(),window.addEventListener("mousemove",r),window.addEventListener("mouseup",function e(){if(!o)return i.dragLineShow=!1,window.removeEventListener("mousemove",r),void window.removeEventListener("mouseup",e);i._willWidth<90&&(i._willWidth=90);for(var a=0;a<i.col.length;a++)if(i.col[a]._colid==t._colid){i.col[a].width=i._willWidth;for(var s=0;s<i.col.length;s++){var n=0;i.showCheckBoxAndIndex&&(n=40);for(var l=0;l<s;l++)n+=i.col[l].width;i.col[s]._left=n}break}i.dragLineShow=!1;window.removeEventListener("mousemove",r);window.removeEventListener("mouseup",e)});var a=0;a=t.fixed?t._left+t.width:t._left+t.width-this.geScrollLeftArea,this.dragLeft=a,this.dragLineShow=!0;var s=e.clientX;function r(e){o=!0;var r=e.clientX-s;i._willWidth=t.width+r,i.dragLeft=a+r}},colSort:function(t){var e=this,i=this;t=this.deepClone(t);for(var o=this.deepClone(i.col),a=this.deepClone(this.row),r=0;r<o.length;r++)o[r]._sort="";function n(t,e){return t==e?0:1*t==t&&1*e==e?t-e<0?-1:1:(void 0===t?"undefined":s()(t))==(void 0===e?"undefined":s()(e))?t<e?-1:1:(void 0===t?"undefined":s()(t))<(void 0===e?"undefined":s()(e))?-1:1}function l(t,e){for(var i=0;i<o.length;i++)if(o[i]._colid==t)return void(o[i]._sort=e)}this.$nextTick(function(){if(""==t._sort){var s=a.sort(function(e,i){return n(i[t.props].value,e[t.props].value)});l(t._colid,"desc"),e.$nextTick(function(){e.row=s})}else if("desc"==t._sort){var r=a.sort(function(e,i){return n(e[t.props].value,i[t.props].value)});l(t._colid,"asc"),e.$nextTick(function(){e.row=r})}else"asc"==t._sort&&(l(t._colid,""),a=a.sort(function(t,e){return t._rowid-e._rowid}),e.$nextTick(function(){e.row=a}));i.col=o})},jsonClone:function(t){return JSON.parse(u()(t))},deepClone:function(t){var e,i=(e=t,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)]),o=void 0,a=void 0,s=void 0;if("array"===i)o=[];else{if("object"!==i)return t;o={}}if("array"===i){for(a=0,s=t.length;a<s;a++)o.push(this.deepClone(t[a]));return o}if("object"===i){for(a in t)o[a]=this.deepClone(t[a]);return o}},addUrlQuery:function(t,e){function i(t){var e="",i=!0,o=!1,a=void 0;try{for(var s,r=c()(n()(t));!(i=(s=r.next()).done);i=!0){var l=s.value,d=p()(l,2);e+=d[0]+"="+d[1]+"&"}}catch(t){o=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}return e=e.substring(0,e.length-1)}var o=t.split("?");if(o[0]==t)return t.trim()+"?"+i(e);if(""==o[1].trim())return""+t.trim()+i(e);var a=function(t){"&"==t.substring(t.length-1)&&(t=t.substring(0,t.length-1));for(var e=t.split("&"),i={},o=0;o<e.length;o++){var a=e[o].split("=");i[a[0]]=a[1]}return i}(o[1]),s=w()({},a,e);return o[0].trim()+"?"+i(s)}},beforeDestroy:function(){document.removeEventListener("click",this.hideOption),window.removeEventListener("resize",this.fixedWidthHeight)},destroyed:function(){}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.reset,ref:"wrap",staticClass:"tbl-wrap tbl-wrap-id-2018-03-26",on:{touchstart:function(e){e.stopPropagation(),t.hover_show=!1,t.option_show=!1,t.dataPicker_show=!1,t.timePicker_show=!1}}},[t.entry?i("i",{staticClass:"add-line-icon",style:{top:t.cellHeight*t.colRelMaxLevel-6+"px"},attrs:{title:"增加一行"},on:{click:function(e){return e.stopPropagation(),t.addLine(e)}}},[i("i",{staticClass:"fa fa-plus"})]):t._e(),t._v(" "),i("span",{ref:"textLengtn",staticStyle:{display:"inline-block",position:"absolute","z-index":"-99","font-size":"13px",background:"transparent",opacity:"0"}}),t._v(" "),i("div",{ref:"container",staticClass:"container",style:{width:t.width+"px",height:t.height+"px"},on:{mousewheel:t.mousewheel,touchstart:t.touchstart}},[i("div",{staticClass:"tools"}),t._v(" "),i("div",{staticClass:"body"},[0==t.row.length?i("div",{staticClass:"no-text"},[t._v("暂无数据")]):t._e(),t._v(" "),i("div",{staticClass:"expand",style:{width:t.fullWidth+"px",height:t.fullHeight+"px"}}),t._v(" "),i("div",{staticClass:"sheet-header"},[i("div",{staticClass:"sheet-header-left"},[t.showCheckBoxAndIndex?i("div",{staticClass:"tbl-cell check-cell",style:{height:t.colRelMaxLevel*t.cellHeight+"px",left:"0px",width:"40px"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:0==t.headerCheckStatus,expression:"headerCheckStatus == false"}],key:"1",staticClass:"fa fa-square-o",staticStyle:{color:"#999"}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"all"==t.headerCheckStatus,expression:"headerCheckStatus == 'all'"}],key:"2",staticClass:"fa fa-check-square",on:{touchstart:function(e){t.headerCheckStatus="none"},click:function(e){t.headerCheckStatus="none"}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"none"==t.headerCheckStatus,expression:"headerCheckStatus == 'none'"}],key:"3",staticClass:"fa fa-square-o",on:{touchstart:function(e){t.headerCheckStatus="all"},click:function(e){t.headerCheckStatus="all"}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"some"==t.headerCheckStatus,expression:"headerCheckStatus == 'some'"}],key:"4",staticClass:"fa fa-square",on:{touchstart:function(e){t.headerCheckStatus="all"},click:function(e){t.headerCheckStatus="all"}}})]):t._e(),t._v(" "),t._l(t.colFixHeader,function(e){return i("div",{key:e._colid,staticClass:"tbl-cell nowrap",class:[t.geScrollLeftArea>20?"needShadow":""],style:{height:t.colRelMaxLevel*t.cellHeight+"px","line-height":t.colRelMaxLevel*t.cellHeight+"px",left:e._left+"px",width:e.width+"px","border-right":"1px solid #d8d8d8"}},[e.icon?["mul_select"==e.icon?i("i",{staticClass:"icon fa fa-chevron-circle-down"}):"select"==e.icon?i("i",{staticClass:"icon fa fa-angle-down"}):"normal"==e.icon?i("i",{staticClass:"icon fa fa-info-circle"}):"edit"==e.icon?i("i",{staticClass:"icon fa fa-pencil-square-o"}):"number"==e.icon?i("i",{staticClass:"icon fa fa-hashtag"}):"date"==e.icon?i("i",{staticClass:"icon fa fa-calendar-o"}):"time"==e.icon?i("i",{staticClass:"icon fa fa-clock-o"}):i("i",{class:[e.icon,"icon"]})]:t._e(),t._v(" \n                "+t._s(e.title)+"\n\n                "),i("span",{staticClass:"drag-pad",on:{click:function(t){t.preventDefault(),t.stopPropagation()},mousedown:function(i){i.preventDefault(),i.stopPropagation(),t.dragDown(e,i)}}},[t._v(" ")]),t._v(" "),e.sort?i("span",{staticClass:"sort-wrap",on:{click:function(i){i.stopPropagation(),t.colSort(e)}}},[i("i",{staticClass:"fa fa-sort-desc",class:{active:"desc"==e._sort}}),t._v(" "),i("i",{staticClass:"fa fa-sort-asc",class:{active:"asc"==e._sort}})]):t._e()],2)})],2),t._v(" "),i("div",{staticClass:"sheet-header-right",style:{left:t.colFixHeaderWidth+"px",transform:"translate("+-1*t.geScrollLeftArea+"px, 0px)"}},[t._l(t.realCol,function(e){return t._l(e,function(e){return i("div",{key:e._colid,staticClass:"tbl-cell nowrap",style:{height:(e._verticalSpace+1||1)*t.cellHeight+"px",left:e._left-t.colFixHeaderWidth+"px",top:e._verticalSpace?e._top-e._verticalSpace*t.cellHeight+"px":e._top+"px",width:e.width+"px","line-height":(e._verticalSpace+1||1)*t.cellHeight+"px"}},[e.icon?["mul_select"==e.icon?i("i",{staticClass:"icon fa fa-chevron-circle-down"}):"select"==e.icon?i("i",{staticClass:"icon fa fa-angle-down"}):"normal"==e.icon?i("i",{staticClass:"icon fa fa-info-circle"}):"edit"==e.icon?i("i",{staticClass:"icon fa fa-pencil-square-o"}):"number"==e.icon?i("i",{staticClass:"icon fa fa-hashtag"}):"date"==e.icon?i("i",{staticClass:"icon fa fa-calendar-o"}):"time"==e.icon?i("i",{staticClass:"icon fa fa-clock-o"}):i("i",{class:[e.icon,"icon"]})]:t._e(),t._v(" \n                  "+t._s(e.title)+"\n\n                  "),e._isLevel?t._e():i("span",{staticClass:"drag-pad",on:{click:function(t){t.preventDefault(),t.stopPropagation()},mousedown:function(i){i.preventDefault(),i.stopPropagation(),t.dragDown(e,i)}}},[t._v(" ")]),t._v(" "),e.sort?i("span",{staticClass:"sort-wrap",on:{click:function(i){i.stopPropagation(),t.colSort(e)}}},[i("i",{staticClass:"fa fa-sort-desc",class:{active:"desc"==e._sort}}),t._v(" "),i("i",{staticClass:"fa fa-sort-asc",class:{active:"asc"==e._sort}})]):t._e()],2)})})],2)]),t._v(" "),i("div",{staticClass:"sheet-body",style:{transform:"translate(0px, "+-1*t.geScrollTopArea+"px)"}},t._l(t.row,function(e,o){return(o+1)*t.cellHeight-t.geScrollTopArea>-t.cellHeight&&(o+1)*t.cellHeight-t.geScrollTopArea<t.height+t.cellHeight?i("div",{key:e._rowid+"-row",staticClass:"sheet-line",style:{top:(o+t.colRelMaxLevel)*t.cellHeight+"px"}},[i("div",{staticClass:"sheet-body-left"},[t.showCheckBoxAndIndex&&!e.noCheckAble?i("div",{key:e._rowid,staticClass:"tbl-cell check-cell",class:[e._error?"error":e._modify?"modify":"",t.geScrollLeftArea>20?"needShadow":""],style:{height:t.cellHeight+"px",left:"0px",width:"40px"},on:{mouseover:function(i){i.stopPropagation(),t.$set(t.lineHover,"lineHover-"+e._rowid,!0)},mouseout:function(i){i.stopPropagation(),t.$set(t.lineHover,"lineHover-"+e._rowid,!1)}}},[(t.lineHover["lineHover-"+e._rowid]||e.checked)&&!t.onlyShowIndex||0==t.isPC||1==t.onlyShowCheckBox?[i("i",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"rowItem.checked"}],staticClass:"fa fa-check-square",on:{touchstart:function(i){t.checkBox(e)},click:function(i){t.checkBox(e)}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!rowItem.checked"}],staticClass:"fa fa-square-o",on:{touchstart:function(i){t.checkBox(e)},click:function(i){t.checkBox(e)}}})]:[i("span",{staticClass:"nowrap",staticStyle:{"font-size":"10px"}},[t._v(t._s(1*o+1))])]],2):i("div",{staticClass:"tbl-cell check-cell",style:{height:t.cellHeight+"px",left:"0px",width:"40px",cursor:"no-drop"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"rowItem.checked"}],staticClass:"fa fa-check-square",staticStyle:{cursor:"no-drop",opacity:"0.35"}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!rowItem.checked"}],staticClass:"fa fa-square-o",staticStyle:{cursor:"no-drop",opacity:"0.35"}})]),t._v(" "),t._l(t.colFixHeader,function(o){return i("div",{key:e._rowid+"-"+o._colid,ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"tbl-cell",class:[t.geScrollLeftArea>20?"needShadow":""],style:{left:o._left+"px",width:o.width+"px",height:t.cellHeight+"px"},on:{mouseover:function(i){i.stopPropagation(),t.cellOver(e,o)},mouseout:function(i){t.cellOut(e,o)}}},["normal"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",style:[e[o.props].style]},[i("div",{staticClass:"text nowrap"},[t._v("\n                          "+t._s(e[o.props].value)+"\n                      ")])]):t._e(),t._v(" "),"edit"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",style:[e[o.props].style],attrs:{type:"text"},domProps:{value:e[o.props].value},on:{focus:function(e){t.option_show=!1},input:function(i){t.modifyByRowCol(e._rowid,o.props,i.target.value)}}}),t._v(" "),i("i",{staticClass:"fa fa-pencil-square-o edit-close"})]):t._e(),t._v(" "),"number"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",style:[e[o.props].style],attrs:{type:"number"},domProps:{value:e[o.props].value},on:{focus:function(e){t.option_show=!1},input:function(i){t.modifyByRowCol(e._rowid,o.props,i.target.value)},blur:function(i){t.checkNumber(e,o,i.target.value)}}})]):t._e(),t._v(" "),"select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.searchFocus(e,o)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[o.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"select")}}})]):t._e(),t._v(" "),"opt_select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.opt_searchFocus(e,o)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[o.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"select")}}})]):t._e(),t._v(" "),"opt_mul_select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.opt_searchFocus(e,o,!0)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[o.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"select")}}})]):t._e(),t._v(" "),"mul_select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[o.props].value.join("， ")},on:{focus:function(i){t.searchFocus(e,o,!0)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:0!=e[o.props].id.length,expression:"rowItem[col.props].id.length != 0"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"mul_select")}}})]):t._e(),t._v(" "),"date"==e[o.props].type||"datetime"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.dataPicker_show&&t.dataPicker_info.row&&t.dataPicker_info.row._rowid==e._rowid&&o._colid==t.dataPicker_info.col._colid?"active":""],style:[e[o.props].style,{"text-indent":"20px"}],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.dataPickerFocus(e,o)}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e[o.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-calendar-o edit-close",staticStyle:{cursor:"default"}})]):t._e(),t._v(" "),"time"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.timePicker_show&&t.timePicker_time.row&&t.timePicker_time.row._rowid==e._rowid&&o._colid==t.timePicker_time.col._colid?"active":""],style:[e[o.props].style,{"text-indent":"16px"}],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.timePickerFocus(e,o)}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e[o.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-clock-o edit-close",staticStyle:{cursor:"default"}})]):t._e(),t._v(" "),"month"==e[o.props].type||"year"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell"},[i("input",{staticClass:"edit-inp nowrap",style:[e[o.props].style],attrs:{type:"text",placeholder:t.placeholder_date(e[o.props].type)},domProps:{value:e[o.props].value},on:{focus:function(e){t.option_show=!1},input:function(i){t.modifyByRowCol(e._rowid,o.props,i.target.value)},blur:function(i){t.checkDate(e,o,i.target.value,e[o.props].type)}}}),t._v(" "),i("i",{staticClass:"fa edit-close",class:["time"==e[o.props].type?"fa-clock-o":"fa-calendar-o"]})]):t._e()])})],2),t._v(" "),i("div",{staticClass:"sheet-body-right",style:{left:t.colFixHeaderWidth+"px",transform:"translate("+-1*t.geScrollLeftArea+"px, 0px)"}},t._l(t.colActiveHeader,function(o){return t.geScrollLeftArea-o._left<o.width&&o._left-t.geScrollLeftArea-t.width<o.width?i("div",{key:e._rowid+"-"+o._colid,ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"tbl-cell",style:{left:o._left-t.colFixHeaderWidth+"px",width:o.width+"px",height:t.cellHeight+"px"},on:{mouseover:function(i){i.stopPropagation(),t.cellOver(e,o)},mouseout:function(i){t.cellOut(e,o)}}},["normal"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",style:[e[o.props].style]},[i("div",{staticClass:"text nowrap"},[t._v("\n                          "+t._s(e[o.props].value)+"\n                      ")])]):t._e(),t._v(" "),"edit"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",style:[e[o.props].style],attrs:{type:"text"},domProps:{value:e[o.props].value},on:{focus:function(e){t.option_show=!1},input:function(i){t.modifyByRowCol(e._rowid,o.props,i.target.value)}}}),t._v(" "),i("i",{staticClass:"fa fa-pencil-square-o edit-close"})]):t._e(),t._v(" "),"number"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",style:[e[o.props].style],attrs:{type:"number"},domProps:{value:e[o.props].value},on:{focus:function(e){t.option_show=!1},input:function(i){t.modifyByRowCol(e._rowid,o.props,i.target.value)},blur:function(i){t.checkNumber(e,o,i.target.value)}}})]):t._e(),t._v(" "),"select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.searchFocus(e,o)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[o.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"select")}}})]):t._e(),t._v(" "),"opt_select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.opt_searchFocus(e,o)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[o.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"select")}}})]):t._e(),t._v(" "),"opt_mul_select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.opt_searchFocus(e,o,!0)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:""!=(e[o.props].id+"").trim(),expression:"(rowItem[col.props].id+'').trim() != ''"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"select")}}})]):t._e(),t._v(" "),"mul_select"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.option_show&&t.option_info.row&&t.option_info.row._rowid==e._rowid&&o._colid==t.option_info.col._colid?"active":""],style:[e[o.props].style],attrs:{type:"search",readonly:""},domProps:{value:e[o.props].value.join("， ")},on:{focus:function(i){t.searchFocus(e,o,!0)},blur:function(t){t.stopPropagation()}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:0!=e[o.props].id.length,expression:"rowItem[col.props].id.length != 0"}],staticClass:"fa fa-times-circle edit-close",on:{click:function(i){t.selectClose(e,o,"mul_select")}}})]):t._e(),t._v(" "),"date"==e[o.props].type||"datetime"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.dataPicker_show&&t.dataPicker_info.row&&t.dataPicker_info.row._rowid==e._rowid&&o._colid==t.dataPicker_info.col._colid?"active":""],style:[e[o.props].style,{"text-indent":"20px"}],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.dataPickerFocus(e,o)}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e[o.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-calendar-o edit-close",staticStyle:{cursor:"default"}})]):t._e(),t._v(" "),"time"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell",on:{click:function(t){t.stopPropagation()},touchend:function(i){i.stopPropagation(),t.inpTouchEnd(e._rowid,o._colid)}}},[i("input",{ref:"inp-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"edit-inp nowrap",class:[t.timePicker_show&&t.timePicker_time.row&&t.timePicker_time.row._rowid==e._rowid&&o._colid==t.timePicker_time.col._colid?"active":""],style:[e[o.props].style,{"text-indent":"16px"}],attrs:{type:"text",readonly:""},domProps:{value:e[o.props].value},on:{focus:function(i){t.timePickerFocus(e,o)}}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e[o.props].value,expression:"rowItem[col.props].value"}],staticClass:"fa fa-clock-o edit-close",staticStyle:{cursor:"default"}})]):t._e(),t._v(" "),"month"==e[o.props].type||"year"==e[o.props].type?i("div",{ref:"cell-"+e._rowid+"-"+o._colid,refInFor:!0,staticClass:"cell"},[i("input",{staticClass:"edit-inp nowrap",style:[e[o.props].style],attrs:{type:"text",placeholder:t.placeholder_date(e[o.props].type)},domProps:{value:e[o.props].value},on:{focus:function(e){t.option_show=!1},input:function(i){t.modifyByRowCol(e._rowid,o.props,i.target.value)},blur:function(i){t.checkDate(e,o,i.target.value,e[o.props].type)}}}),t._v(" "),i("i",{staticClass:"fa edit-close",class:["time"==e[o.props].type?"fa-clock-o":"fa-calendar-o"]})]):t._e()]):t._e()}))]):t._e()}))]),t._v(" "),t.width*t.width/t.fullWidth<t.width?i("div",{staticClass:"scrollbar-x",style:{width:t.width+"px"}},[i("div",{staticClass:"scrollbar-x-drag",style:{width:t.width*t.width/t.fullWidth+"px",left:t.scrollLeft+"px"},on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.scrollMouseDown(e,"x")}}})]):t._e(),t._v(" "),(t.height-t.colRelMaxLevel*t.cellHeight)*(t.height-t.colRelMaxLevel*t.cellHeight)/t.fullHeight<t.height-t.colRelMaxLevel*t.cellHeight?i("div",{staticClass:"scrollbar-y",class:[t.isPC?"":"mob"],style:{height:t.height-t.colRelMaxLevel*t.cellHeight+"px",top:t.colRelMaxLevel*t.cellHeight+"px"}},[i("div",{staticClass:"scrollbar-y-drag",style:{height:(t.height-t.colRelMaxLevel*t.cellHeight)*(t.height-t.colRelMaxLevel*t.cellHeight)/t.fullHeight+"px",top:t.scrollTop+"px"},on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.scrollMouseDown(e,"y")}}},[(t.height-t.colRelMaxLevel*t.cellHeight)*(t.height-t.colRelMaxLevel*t.cellHeight)/t.fullHeight<32?[i("div",{staticClass:"drag-x1"}),t._v(" "),i("div",{staticClass:"drag-x2"})]:t._e()],2)]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dragLineShow,expression:"dragLineShow"}],staticClass:"drag_line",style:{left:t.dragLeft+"px"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}})]),t._v(" "),i("transition",{attrs:{name:"option"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.option_show,expression:"option_show"}],ref:"optionDOM",staticClass:"option",style:{left:t.option_left+"px",top:t.option_top+"px",width:t.option_width+"px"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_hide_arrow,expression:"!option_hide_arrow"}],staticClass:"arrow"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.option_loading&&t.option_show_search,expression:"!option_loading && option_show_search"}],staticClass:"search-text",on:{click:function(e){t.$refs.option_inp.focus()}}},[i("span",[i("i",{staticClass:"fa fa-search"})]),t._v(" "),i("input",{ref:"option_inp",attrs:{placeholder:"搜索",type:"text"},domProps:{value:t.option_search},on:{input:function(e){t.searchInput(e)}}})]),t._v(" "),i("div",{staticClass:"opp"},[t.option_loading?i("div",{staticStyle:{"text-align":"center","padding-top":"10px","padding-bottom":"10px",color:"#a9a9a9"}},[t._v("加载中...")]):i("div",t._l(t.option_data,function(e){return i("div",{key:e.id,staticClass:"option-item",class:[e.select?"select":""],on:{click:function(i){t.optionItemClick(e)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))]),t._v(" "),!t.option_loading&&t.showOptionPage&&t.option_total_page>1?i("div",{staticClass:"page"},[i("i",{staticClass:"page-arrow fa fa-angle-left",on:{click:function(e){e.stopPropagation(),t.searchByPage(-1)}}}),t._v(" "),i("span",[t._v(t._s(t.option_current_page)+" / "+t._s(t.option_total_page))]),t._v(" "),i("i",{staticClass:"page-arrow fa fa-angle-right",on:{click:function(e){e.stopPropagation(),t.searchByPage(1)}}})]):t._e()])]),t._v(" "),t.showPrompt?i("div",{directives:[{name:"show",rawName:"v-show",value:t.hover_show,expression:"hover_show"}],staticClass:"hover-show",style:{left:t.hover_left-6+"px",bottom:t.hover_bottom+"px",width:t.hover_width+12+"px","word-wrap":"break-word"}},[i("span",{domProps:{innerHTML:t._s(t.hover_text)}})]):t._e(),t._v(" "),i("transition",{attrs:{name:"option"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.dataPicker_show,expression:"dataPicker_show"}],ref:"dataPicker",staticClass:"data-picker",style:{left:t.dataPicker_left+"px",top:t.dataPicker_top+"px",width:t.dataPicker_width+"px"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[i("div",{staticClass:"arrow"}),t._v(" "),i("div",{staticClass:"picker-arrow clearfix"},[i("span",{staticClass:"fa fa-angle-double-left",staticStyle:{float:"left"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateYear(-1)}}}),t._v(" "),i("span",{staticClass:"fa fa-angle-left",staticStyle:{float:"left"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateMonth(-1)}}}),t._v(" "),i("i",{staticClass:"arrow-date"},[t._v(t._s(t.getPickerArray.year)+"-"+t._s(t.getPickerArray.month))]),t._v(" "),i("span",{staticClass:"fa fa-angle-double-right",staticStyle:{float:"right"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateYear(1)}}}),t._v(" "),i("span",{staticClass:"fa fa-angle-right",staticStyle:{float:"right"},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.dateMonth(1)}}})]),t._v(" "),i("div",{staticClass:"date-tbl"},[i("div",{staticClass:"date-week"},[i("span",[t._v("一")]),t._v(" "),i("span",[t._v("二")]),t._v(" "),i("span",[t._v("三")]),t._v(" "),i("span",[t._v("四")]),t._v(" "),i("span",[t._v("五")]),t._v(" "),i("span",[t._v("六")]),t._v(" "),i("span",[t._v("日")])]),t._v(" "),i("div",{staticClass:"date-day"},t._l(t.getPickerArray.res,function(e,o){return i("div",{key:o,staticClass:"day-line"},t._l(e,function(e){return i("span",{key:e.date,class:[e.currentMonth?"":"not-now",e.active?"active":"",e.active2?"active2":""],on:{click:function(i){i.stopPropagation(),t.datapickerClick(e.date)}}},[t._v("\n              "+t._s(e.day)+"\n            ")])}))}))]),t._v(" "),t.dataPicker_info.row&&"datetime"==t.dataPicker_info.row[t.dataPicker_info.col.props].type?i("div",{staticClass:"datetime-wrap"},[i("label",[i("input",{attrs:{type:"number"},domProps:{value:t.dateTimeHMS.h},on:{input:function(e){t.dateTimeHMSFn(e,"h")}}}),t._v(" "),i("span",[t._v("时")])]),t._v(" "),i("label",[i("input",{attrs:{type:"number"},domProps:{value:t.dateTimeHMS.m},on:{input:function(e){t.dateTimeHMSFn(e,"m")}}}),t._v(" "),i("span",[t._v("分")])]),t._v(" "),i("label",[i("input",{attrs:{type:"number"},domProps:{value:t.dateTimeHMS.s},on:{input:function(e){t.dateTimeHMSFn(e,"s")}}}),t._v(" "),i("span",[t._v("秒")])])]):t._e(),t._v(" "),i("div",{staticClass:"select-now clearfix"},[i("div",{staticClass:"toDay",on:{click:function(e){e.stopPropagation(),t.datapickerClick(null)}}},[t._v("现在")]),t._v(" "),i("div",{staticClass:"clear",on:{click:function(e){e.stopPropagation(),t.datapickerClick("clear")}}},[t._v("清空")]),t._v(" "),t.dataPicker_info.row&&"datetime"==t.dataPicker_info.row[t.dataPicker_info.col.props].type?i("div",{staticClass:"clear",staticStyle:{float:"left",color:"#05a78d",width:"62px"},on:{click:function(e){e.stopPropagation(),t.datapickerClick("confirm")}}},[i("i",{staticClass:"fa fa-check"}),t._v("\n            完成\n        ")]):t._e()])])]),t._v(" "),i("transition",{attrs:{name:"option"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.timePicker_show,expression:"timePicker_show"}],ref:"timePicker",staticClass:"time-picker",style:{left:t.timePicker_left+"px",top:t.timePicker_top+"px",width:t.timePicker_width+"px"},on:{click:function(t){t.stopPropagation()},mousewheel:function(t){t.stopPropagation()},mouseover:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[i("div",{staticClass:"arrow"}),t._v(" "),i("div",{staticClass:"time-control"},[i("div",{staticClass:"time-h",staticStyle:{"font-size":"15px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v("时")]),t._v(" "),i("div",{staticClass:"time-m",staticStyle:{"font-size":"15px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v("分")]),t._v(" "),i("div",{staticClass:"time-s",staticStyle:{"font-size":"15px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v("秒")])]),t._v(" "),i("div",{staticClass:"time-control"},[i("div",{staticClass:"time-h"},[i("div",{staticClass:"time-add",on:{click:function(e){t.timePickerFn("h",1)}}},[i("i",{staticClass:"fa fa-plus"})]),t._v(" "),i("div",{staticClass:"time-show",staticStyle:{"font-size":"16px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v(t._s(t.timePickerComputed.h))]),t._v(" "),i("div",{staticClass:"time-des",on:{click:function(e){t.timePickerFn("h",-1)}}},[i("i",{staticClass:"fa fa-minus"})])]),t._v(" "),i("div",{staticClass:"time-m"},[i("div",{staticClass:"time-add",on:{click:function(e){t.timePickerFn("m",1)}}},[i("i",{staticClass:"fa fa-plus"})]),t._v(" "),i("div",{staticClass:"time-show",staticStyle:{"font-size":"16px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v(t._s(t.timePickerComputed.m))]),t._v(" "),i("div",{staticClass:"time-des",on:{click:function(e){t.timePickerFn("m",-1)}}},[i("i",{staticClass:"fa fa-minus"})])]),t._v(" "),i("div",{staticClass:"time-s"},[i("div",{staticClass:"time-add",on:{click:function(e){t.timePickerFn("s",1)}}},[i("i",{staticClass:"fa fa-plus"})]),t._v(" "),i("div",{staticClass:"time-show",staticStyle:{"font-size":"16px"},style:{color:t.timeType?"#05a78d":"#6754c7"}},[t._v(t._s(t.timePickerComputed.s))]),t._v(" "),i("div",{staticClass:"time-des",on:{click:function(e){t.timePickerFn("s",-1)}}},[i("i",{staticClass:"fa fa-minus"})])])]),t._v(" "),i("div",{staticClass:"line--"}),t._v(" "),i("div",{staticClass:"time-circle"},[i("span",{staticClass:"minitem-title",class:[0==t.timeType?"active":""],staticStyle:{top:"-5px"},on:{click:t.timeTypeChange}},[i("i",{staticClass:"minitem-orb"}),t._v(" "),i("div",{style:{"text-indent":t.timeType?"23px":"7px"}},[t._v(t._s(0==t.timeType?"PM":"AM"))])]),t._v(" "),t._l(t.timeMinute,function(e,o){return i("span",{key:"timeMinute"+o,staticClass:"minitem",style:{left:e.left+"px",top:e.top+"px"},on:{click:function(i){t.timePickerFn("m",0,e.value)}}},[t._v("\n          "+t._s(e.value)+"\n        ")])}),t._v(" "),t._l(t.timeHoursComputed,function(e,o){return i("span",{key:"timeHoursComputed"+o,staticClass:"minitem",style:{left:e.left+"px",top:e.top+"px"},on:{click:function(i){t.timePickerFn("h",0,e.value)}}},[t._v("\n          "+t._s(e.alias?e.alias:e.value)+"\n        ")])}),t._v(" "),i("span",{staticClass:"pin-center"},[i("span",{staticClass:"pin-line",style:{transform:"rotate("+(+t.timePickerComputed.radius-90)+"deg)","transform-origin":"left center"}})]),t._v(" "),i("span",{staticClass:"pin-center"},[i("span",{staticClass:"pin-line pin-hours",style:{transform:"rotate("+ +t.pickerHoursComputed.radius+"deg)","transform-origin":"left center",background:"#7e8f9d",width:"40px",height:"2px","border-radius":"4px"}})])],2),t._v(" "),i("div",{staticClass:"btn clearfix"},[i("div",{staticClass:"confirm",style:{color:t.timeType?"#05a78d":"#6754c7"},on:{click:function(e){t.timePickerBtn()}}},[i("i",{staticClass:"fa fa-check"}),t._v("  完成\n        ")]),t._v(" "),i("div",{staticClass:"cancel",on:{click:function(e){t.timePickerBtnNow()}}},[t._v("现在")]),t._v(" "),i("div",{staticClass:"clear",on:{click:function(e){t.timePickerBtn("clear")}}},[t._v("清空")])])])])],1)},staticRenderFns:[]};var g={data:function(){return{scrollSpeed:1,colData:[{title:"时间",props:"a1",width:120,icon:"time",sort:!0},{title:"日期",width:180,props:"a2",icon:"date"},{title:"api单选",width:130,props:"a3",icon:"select"},{title:"api多选",width:140,props:"a4",icon:"mul_select"},{title:"时间日期",width:250,icon:"date",props:"a5"},{title:"时间",width:140,icon:"time",props:"a6"},{title:"非api单选",width:120,icon:"date",props:"a7"},{title:"非api多选",width:140,props:"a8"},{title:"编辑框",width:140,props:"a9"},{title:"数字框",width:140,props:"a10"},{title:"标题11",width:140,props:"a11"},{title:"标题12",width:140,props:"a12"},{title:"标题13",width:140,props:"a13"},{title:"标题14",width:140,props:"a14"},{title:"标题15",width:140,props:"a15"},{title:"标题16",width:140,props:"a16"},{title:"标题17",width:140,props:"a17"},{title:"标题18",width:140,props:"a18"},{title:"标题19",width:140,props:"a19"},{title:"标题20",width:140,props:"a20"},{title:"标题21",width:140,props:"a21"},{title:"标题22",width:140,props:"a22"},{title:"标题23",width:140,props:"a23"},{title:"标题24",width:140,props:"a24"},{title:"标题25",width:140,props:"a25"},{title:"标题26",width:140,props:"a26"},{title:"标题27",width:140,props:"a27"},{title:"标题28",width:140,props:"a28"},{title:"标题29",width:140,props:"a29"},{title:"标题30",width:140,props:"a30"},{title:"标题31",width:140,props:"a31"},{title:"标题32",width:140,props:"a32"},{title:"标题33",width:140,props:"a33"},{title:"标题34",width:140,props:"a34"},{title:"标题35",width:140,props:"a35"},{title:"标题36",width:140,props:"a36"},{title:"标题37",width:140,props:"a37"},{title:"标题38",width:140,props:"a38"},{title:"标题39",width:140,props:"a39"},{title:"标题40",width:140,props:"a40"}],colRelation:[{title:"4-1",level:4,indexStart:2,indexEnd:6},{title:"4-2",level:4,indexStart:6,indexEnd:16},{title:"4-3",level:4,indexStart:16,indexEnd:29},{title:"4-4",level:4,indexStart:29,indexEnd:39},{title:"3-1",level:3,indexStart:3,indexEnd:6},{title:"3-2",level:3,indexStart:7,indexEnd:22},{title:"3-3",level:3,indexStart:25,indexEnd:33},{title:"3-4",level:3,indexStart:34,indexEnd:37},{title:"2-1",level:2,indexStart:3,indexEnd:5},{title:"2-2",level:2,indexStart:5,indexEnd:6}],entry:!1,rowData:[],showCheckBoxAndIndex:!0,onlyShowIndex:!1,showPrompt:!0,option_limit:10,searchDelayTime:500,showOptionPage:!0}},created:function(){for(var t=[],e=0;e<200;e++)t.push({checked:6==e||9==e||12==e,a1:{type:"time",value:"06:32:57",required:!0},a2:{type:"date",value:"2011-01-29",required:!0},a3:{type:"select",url:"/static/select.json",dataPos:"data.result",dataTotal:"data.total",value:"",required:!0,id:""},a4:{type:"mul_select",url:"/static/select.json",dataPos:"data.result",dataTotal:"data.total",value:[],id:[]},a5:{type:"datetime",value:"2018-03-03 11:06:34"},a6:{type:"time",value:"08:02:33"},a7:{type:"opt_mul_select",option:[{id:1,name:"name1"},{id:2,name:"name2"},{id:3,name:"name3"}],value:["name1","name2"],id:[1,2],required:!0},a8:{type:"opt_select",option:[{id:0,name:"name0"},{id:2,name:"name2"},{id:3,name:"name3"}],value:"",id:"",required:!0},a9:{type:"edit",value:"XXX"},a10:{type:"number",value:e},a11:{type:"normal",value:e+"-11",id:e},a12:{type:"normal",value:e+"-12",id:e},a13:{type:"normal",value:e+"-13",id:e},a14:{type:"normal",value:e+"-14",id:e},a15:{type:"normal",value:e+"-15",id:e},a16:{type:"normal",value:e+"-16",id:e},a17:{type:"normal",value:e+"-17",id:e},a18:{type:"normal",value:e+"-18",id:e},a19:{type:"normal",value:e+"-19",id:e},a20:{type:"normal",value:e+"-20",id:e},a21:{type:"normal",value:e+"-21",id:e},a22:{type:"normal",value:e+"-22",id:e},a23:{type:"normal",value:e+"-23",id:e},a24:{type:"normal",value:e+"-24",id:e},a25:{type:"normal",value:e+"-25",id:e},a26:{type:"normal",value:e+"-26",id:e},a27:{type:"normal",value:e+"-27",id:e},a28:{type:"normal",value:e+"-28",id:e},a29:{type:"normal",value:e+"-29",id:e},a30:{type:"normal",value:e+"-30",id:e},a31:{type:"normal",value:e+"-31",id:e},a32:{type:"normal",value:e+"-32",id:e},a33:{type:"normal",value:e+"-33",id:e},a34:{type:"normal",value:e+"-34",id:e},a35:{type:"normal",value:e+"-35",id:e},a36:{type:"normal",value:e+"-36",id:e},a37:{type:"normal",value:e+"-37",id:e},a38:{type:"normal",value:e+"-38",id:e},a39:{type:"normal",value:e+"-39",id:e},a40:{type:"normal",value:e+"-40",id:e}});this.rowData=t,this.entry={a1:{type:"time",required:!0,value:function(){return Date.now()}},a2:{type:"number",min:0,max:20,floatLength:2,value:13123},a3:{type:"select",url:stationListUrl(),dataPos:"data.result",value:"",id:""},a4:{type:"mul_select",url:stationListUrl(),dataPos:"data.result",value:function(){return[]},id:function(){return[]}},a5:{type:"date",value:""},a6:{type:"datetime",value:""},a7:{type:"edit",value:""},a8:{type:"normal",value:""},a9:{type:"normal",value:""},a10:{type:"normal",value:""},a11:{type:"normal",value:""},a12:{type:"normal",value:""},a13:{type:"normal",value:""},a14:{type:"normal",value:""},a15:{type:"normal",value:""},a16:{type:"normal",value:""},a17:{type:"normal",value:""},a18:{type:"normal",value:""},a19:{type:"normal",value:""},a20:{type:"normal",value:""},a21:{type:"normal",value:""},a22:{type:"normal",value:""},a23:{type:"normal",value:""},a24:{type:"normal",value:""},a25:{type:"normal",value:""},a26:{type:"normal",value:""},a27:{type:"normal",value:""},a28:{type:"normal",value:""},a29:{type:"normal",value:""},a30:{type:"normal",value:""},a31:{type:"normal",value:""},a32:{type:"normal",value:""},a33:{type:"normal",value:""},a34:{type:"normal",value:""},a35:{type:"normal",value:""},a36:{type:"normal",value:""},a37:{type:"normal",value:""},a38:{type:"normal",value:""},a39:{type:"normal",value:""},a40:{type:"normal",value:""}}},watch:{"$store.state.isExpand":function(){var t=this;this.$nextTick(function(){t.doLayout()})}},methods:{selectChange:function(t){console.log(t)},dateChange:function(t){console.log(t)},getTable:function(){var t=this.$refs.database.getTable;console.log(t)},checkedRows:function(){var t=this.$refs.database.checkedRows;console.log(t)},add:function(){this.$refs.database.addLine()},doLayout:function(){this.$refs.database.doLayout()},checkRequired:function(){var t=this.$refs.database.checkRequired();console.log(t)},reset:function(){this.$refs.database.doReset(!0)}},components:{database:i("VU/8")(m,y,!1,function(t){i("Q4+4")},"data-v-56f24cb6",null).exports}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"630px"}},[i("button",{staticStyle:{padding:"6px",border:"1px solid #666"},on:{click:t.getTable}},[t._v("获取表格信息1523")]),t._v(" "),i("button",{staticStyle:{padding:"6px",border:"1px solid #666"},on:{click:t.checkedRows}},[t._v("获取选中的行")]),t._v(" "),i("button",{staticStyle:{padding:"6px",border:"1px solid #666"},on:{click:t.add}},[t._v("增加一行")]),t._v(" "),i("button",{staticStyle:{padding:"6px",border:"1px solid #666"},attrs:{title:"第一列设置了required=true"},on:{click:t.checkRequired}},[t._v("对required=true检查")]),t._v(" "),i("button",{staticStyle:{padding:"6px",border:"1px solid #666"},on:{click:t.reset}},[t._v("doReset")]),t._v("\n    注意：表格宽高是撑满父容器的\n    "),i("div",{staticStyle:{width:"100%",height:"calc(100% - 60px)","margin-top":"14px"}},[i("database",{ref:"database",attrs:{scrollSpeed:t.scrollSpeed,colData:t.colData,rowData:t.rowData,colRelation:t.colRelation,entry:t.entry,showCheckBoxAndIndex:t.showCheckBoxAndIndex,onlyShowIndex:t.onlyShowIndex,onlyShowCheckBox:!0,showPrompt:t.showPrompt,option_limit:t.option_limit,searchDelayTime:t.searchDelayTime,showOptionPage:t.showOptionPage},on:{selectChange:t.selectChange,dateChange:t.dateChange}})],1)])},staticRenderFns:[]};var C=i("VU/8")(g,k,!1,function(t){i("a5ms")},"data-v-491f0734",null).exports,P=i("8+8L");i("MtKc");o.a.config.productionTip=!1,o.a.use(P.a),new o.a({el:"#app",components:{App:C},template:"<App/>"})},"Q4+4":function(t,e){},a5ms:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6d91ada49e4468cd27ef.js.map